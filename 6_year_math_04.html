<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å…­æ­²æ•¸å­¸å¤§å¸«æ¸¬é©—</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Noto Sans TC', sans-serif;
        }
        #app > div {
            animation: fadeIn 0.5s ease-in-out;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .master-badge {
            animation: glow 2.5s infinite alternate;
        }
        @keyframes glow {
            from {
                text-shadow: 0 0 5px #fff, 0 0 10px #fff, 0 0 15px #0073e6, 0 0 20px #0073e6;
            }
            to {
                text-shadow: 0 0 10px #fff, 0 0 20px #ffdd1a, 0 0 30px #ffdd1a, 0 0 40px #ffdd1a;
            }
        }
        .question-text {
            font-size: 1.75rem;
            line-height: 2.25rem;
        }
        .option-text {
            font-size: 1.5rem;
        }
        @media (min-width: 640px) {
            .question-text {
                font-size: 2.25rem;
                line-height: 2.5rem;
            }
            .option-text {
                font-size: 1.75rem;
            }
        }
    </style>
</head>
<body class="bg-gray-100">

    <div id="app" class="min-h-screen p-4">
        <!-- The quiz will be rendered here by JavaScript -->
    </div>

    <script>
        // State variables to manage the quiz
        let currentQuestionIndex = 0;
        let answers = {};
        let showResult = false;

        // Master level quiz questions for 6-year-olds
        const questions = [
            // è¨ˆç®— (3é¡Œ) - ä¹˜é™¤æ³•æ¦‚å¿µ
            { category: "ğŸ§® è¨ˆç®—", color: "bg-red-100 border-red-300", question: "5 x 4 = ?", options: ["9", "15", "20", "25"], correct: 2, type: "calculation", explanation: "5x4 ä»£è¡¨æœ‰4å€‹5ç›¸åŠ ï¼š5+5+5+5 = 20ã€‚æ­å–œä½ å­¸æœƒä¹˜æ³•äº†ï¼" },
            { category: "ğŸ§® è¨ˆç®—", color: "bg-red-100 border-red-300", question: "æœ‰15é¡†ç³–æœğŸ¬ï¼Œå¹³åˆ†çµ¦3å€‹å°æœ‹å‹ï¼Œæ¯äººå¯ä»¥æ‹¿å¹¾é¡†ï¼Ÿ", options: ["3é¡†", "4é¡†", "5é¡†", "6é¡†"], correct: 2, type: "calculation", explanation: "é€™å°±æ˜¯é™¤æ³•ï¼15 Ã· 3 = 5ã€‚ä½ å¯ä»¥æƒ³åƒæ¯äººå…ˆç™¼1é¡†ï¼Œç™¼å®Œ3é¡†ï¼Œå†ç™¼ç¬¬2è¼ª...ç›´åˆ°ç™¼å®Œç‚ºæ­¢ã€‚" },
            { category: "ğŸ§® è¨ˆç®—", color: "bg-red-100 border-red-300", question: "8 + 8 + 8 = ?  (é€™ç­‰æ–¼ 3 x 8 å–”ï¼)", options: ["16", "24", "32", "38"], correct: 1, type: "calculation", explanation: "8+8=16ï¼Œ16å†åŠ 8ç­‰æ–¼24ã€‚é€™å°±æ˜¯3å€‹8ï¼Œä¹Ÿå°±æ˜¯3x8=24ã€‚" },
            
            // å¹¾ä½• (3é¡Œ) - å°ç¨±ã€è¦–åœ–ã€åœ–å½¢çµ„åˆ
            { category: "ğŸ”º å¹¾ä½•", color: "bg-blue-100 border-blue-300", question: "ä¸‹é¢å“ªå€‹è‹±æ–‡å­—æ¯æ˜¯ã€Œå·¦å³å°ç¨±ã€çš„ï¼Ÿ", options: ["A", "F", "G", "S"], correct: 0, type: "geometry", explanation: "å­—æ¯'A'å¯ä»¥å¾ä¸­é–“å‚ç›´åˆ‡é–‹ï¼Œå·¦å³å…©é‚Šé•·å¾—ä¸€æ¨¡ä¸€æ¨£ï¼Œæ‰€ä»¥æ˜¯å·¦å³å°ç¨±ï¼" },
            { category: "ğŸ”º å¹¾ä½•", color: "bg-blue-100 border-blue-300", question: "ç”¨4å€‹ä¸€æ¨£å¤§çš„å°æ­£æ–¹é«”ğŸ§Šï¼Œå¯ä»¥æ‹¼å‡ºä¸‹é¢å“ªå€‹å½¢ç‹€ï¼Ÿ", options: ["ä¸€å€‹å¤§çƒé«”", "ä¸€å€‹å¤§æ­£æ–¹é«”", "ä¸€æ¢ç›´ç·š", "ä¸€å€‹é‡‘å­—å¡”"], correct: 2, type: "geometry", explanation: "4å€‹å°æ­£æ–¹é«”å¯ä»¥æ’æˆä¸€æ¢ç›´ç·šã€‚è¦æ‹¼æˆä¸€å€‹å¤§æ­£æ–¹é«”éœ€è¦8å€‹å–”ï¼" },
            { category: "ğŸ”º å¹¾ä½•", color: "bg-blue-100 border-blue-300", question: "ä¸€å€‹åœ“å½¢âšªå’Œä¸€å€‹ä¸‰è§’å½¢ğŸ”ºï¼Œæœ€å¤šå¯ä»¥æœ‰å¹¾å€‹äº¤é»ï¼Ÿ", options: ["1å€‹", "2å€‹", "3å€‹", "4å€‹"], correct: 1, type: "geometry", explanation: "æƒ³åƒä¸€ä¸‹ï¼Œä¸‰è§’å½¢çš„é‚Šç©¿éåœ“å½¢ï¼Œæœ€å¤šå¯ä»¥ç©¿é€²å»å†ç©¿å‡ºä¾†ï¼Œä¸€æ¢é‚Šæœ€å¤š2å€‹äº¤é»ã€‚æ‰€ä»¥æœ€å¤šæ˜¯2å€‹äº¤é»ã€‚" },
            
            // æ‡‰ç”¨ (4é¡Œ) - è¤‡é›œé‚è¼¯ã€æ™‚é–“è¨ˆç®—
            { category: "ğŸ›’ æ‡‰ç”¨", color: "bg-green-100 border-green-300", question: "å“¥å“¥æ¯”æˆ‘å¤§3æ­²ï¼Œæˆ‘ä»Šå¹´6æ­²ï¼Œå“¥å“¥3å¹´å¾Œå¹¾æ­²ï¼Ÿ", options: ["9æ­²", "10æ­²", "11æ­²", "12æ­²"], correct: 3, type: "application", explanation: "æ­¥é©Ÿ1ï¼šå“¥å“¥ä»Šå¹´ 6+3=9æ­²ã€‚æ­¥é©Ÿ2ï¼šå“¥å“¥3å¹´å¾Œ 9+3=12æ­²ã€‚é€™é¡Œè¦ç®—å…©æ¬¡å–”ï¼" },
            { category: "ğŸ›’ æ‡‰ç”¨", color: "bg-green-100 border-green-300", question: "æˆ‘ä¸‹åˆ3é»é–‹å§‹çœ‹æ›¸ï¼Œçœ‹äº†2å€‹å°æ™‚ï¼ŒçµæŸæ™‚æ˜¯å¹¾é»ï¼Ÿ", options: ["ä¸‹åˆ4é»", "ä¸‹åˆ5é»", "ä¸‹åˆ6é»", "æ™šä¸Š7é»"], correct: 1, type: "application", explanation: "å¾3é»é–‹å§‹ï¼Œç¶“é1å°æ™‚æ˜¯4é»ï¼Œå†ç¶“é1å°æ™‚æ˜¯5é»ã€‚æ‰€ä»¥3+2=5ï¼Œæ˜¯ä¸‹åˆ5é»ã€‚" },
            { category: "ğŸ›’ æ‡‰ç”¨", color: "bg-green-100 border-green-300", question: "ä¸€æœ¬æ›¸50å…ƒï¼Œæˆ‘å¸¶äº†3å€‹10å…ƒå’Œ3å€‹5å…ƒï¼ŒéŒ¢å¤ ä¸å¤ è²·ï¼Ÿ", options: ["å¤ ï¼Œé‚„å¤š5å…ƒ", "å¤ ï¼Œå‰›å‰›å¥½", "ä¸å¤ ï¼Œå·®5å…ƒ", "ä¸å¤ ï¼Œå·®10å…ƒ"], correct: 3, type: "application", explanation: "å…ˆç®—ä½ ç¸½å…±æœ‰å¤šå°‘éŒ¢ï¼š3å€‹10å…ƒæ˜¯30å…ƒï¼Œ3å€‹5å…ƒæ˜¯15å…ƒã€‚ç¸½å…±30+15=45å…ƒã€‚45å…ƒæ¯”50å…ƒå°‘ï¼Œæ‰€ä»¥ä¸å¤ ï¼Œé‚„å·®50-45=5å…ƒã€‚" },
            { category: "ğŸ›’ æ‡‰ç”¨", color: "bg-green-100 border-green-300", question: "å°ç‹—ã€å°è²“ã€å°å…”æ¯”è³½è·‘ã€‚å°ç‹—æ¯”å°è²“å¿«ï¼Œå°å…”æ¯”å°ç‹—å¿«ï¼Œèª°æ˜¯ç¬¬ä¸€åï¼Ÿ", options: ["å°ç‹—", "å°è²“", "å°å…”", "ä¸€æ¨£å¿«"], correct: 2, type: "application", explanation: "å°å…”æ¯”å°ç‹—å¿«ï¼Œå°ç‹—åˆæ¯”å°è²“å¿«ï¼Œæ‰€ä»¥æœ€å¿«çš„æ˜¯å°å…”ï¼" },

            // ä»£æ•¸ (3é¡Œ) - è¤‡é›œè¦å¾‹ã€ç­‰é‡ä»£æ›
            { category: "ğŸ¨ ä»£æ•¸", color: "bg-purple-100 border-purple-300", question: "æ‰¾è¦å¾‹ï¼š1, 2, 4, 7, 11, ?", options: ["13", "14", "15", "16"], correct: 3, type: "algebra", explanation: "è¦å¾‹æ˜¯æ¯æ¬¡åŠ çš„æ•¸å­—éƒ½å¤š1ï¼š1(+1)â†’2(+2)â†’4(+3)â†’7(+4)â†’11ï¼Œæ‰€ä»¥ä¸‹ä¸€å€‹æ˜¯ 11(+5)â†’16ã€‚" },
            { category: "ğŸ¨ ä»£æ•¸", color: "bg-purple-100 border-purple-300", question: "å¦‚æœ ğŸ+ğŸ=10ï¼Œé‚£ ğŸ+5=?", options: ["10", "15", "20", "25"], correct: 0, type: "algebra", explanation: "å…©å€‹è˜‹æœæ˜¯10ï¼Œä»£è¡¨ä¸€å€‹è˜‹æœğŸæ˜¯5ã€‚æ‰€ä»¥ 5+5=10ã€‚" },
            { category: "ğŸ¨ ä»£æ•¸", color: "bg-purple-100 border-purple-300", question: "â¬œ + ğŸ”º = 8ï¼Œ â¬œ - ğŸ”º = 2ï¼Œé‚£â¬œæ˜¯å¤šå°‘ï¼Ÿ", options: ["3", "4", "5", "6"], correct: 2, type: "algebra", explanation: "é€™é¡Œè¶…é›£ï¼ä½ å¯ä»¥è©¦è©¦çœ‹ï¼Œ5+3=8ï¼Œ5-3=2ã€‚æ‰€ä»¥â¬œå°±æ˜¯5ï¼" },
            
            // çµ„åˆ (3é¡Œ) - é‚è¼¯æ¨ç†
            { category: "ğŸ§© çµ„åˆ", color: "bg-yellow-100 border-yellow-300", question: "æˆ‘æœ‰ç´…ã€é»ƒã€è—ä¸‰ç¨®é¡è‰²çš„çƒï¼Œæ¯ç¨®è‡³å°‘ä¸€é¡†ï¼Œç¸½å…±5é¡†çƒï¼Œå¯èƒ½æ˜¯æ€éº¼çµ„åˆçš„ï¼Ÿ", options: ["3ç´…1é»ƒ1è—", "2ç´…2é»ƒ2è—", "1ç´…1é»ƒ1è—", "4ç´…1é»ƒ0è—"], correct: 0, type: "combination", explanation: "2ç´…2é»ƒ2è—ç¸½å…±6é¡†ï¼Œä¸å°ã€‚1ç´…1é»ƒ1è—ç¸½å…±3é¡†ï¼Œä¸å°ã€‚4ç´…1é»ƒ0è—æ²’æœ‰è—è‰²çš„ï¼Œä¸å°ã€‚åªæœ‰3+1+1=5ï¼Œç¬¦åˆé¡Œç›®ï¼" },
            { category: "ğŸ§© çµ„åˆ", color: "bg-yellow-100 border-yellow-300", question: "Aã€Bã€Cä¸‰å€‹äººï¼ŒAä¸å–œæ­¡ç´…è‰²ï¼ŒBå–œæ­¡è—è‰²ï¼ŒCå–œæ­¡çš„ä¸æ˜¯ç´…è‰²ä¹Ÿä¸æ˜¯è—è‰²ã€‚é‚£Cå–œæ­¡ä»€éº¼é¡è‰²ï¼Ÿ(å‡è¨­åªæœ‰ç´…é»ƒè—ä¸‰è‰²)", options: ["ç´…è‰²", "é»ƒè‰²", "è—è‰²", "ä¸çŸ¥é“"], correct: 1, type: "combination", explanation: "Cä¸å–œæ­¡ç´…è‰²å’Œè—è‰²ï¼Œé‚£åœ¨ç´…é»ƒè—ä¸‰ç¨®é¡è‰²ä¸­ï¼Œå°±åªå‰©ä¸‹é»ƒè‰²å¯ä»¥é¸äº†ï¼" },
            { category: "ğŸ§© çµ„åˆ", color: "bg-yellow-100 border-yellow-300", question: "ç”¨1ã€2ã€3é€™ä¸‰å€‹æ•¸å­—ï¼Œå¯ä»¥çµ„æˆå¹¾å€‹ä¸åŒçš„ã€Œå…©ä½æ•¸ã€ï¼Ÿ(æ•¸å­—ä¸èƒ½é‡è¤‡)", options: ["3å€‹", "4å€‹", "5å€‹", "6å€‹"], correct: 3, type: "combination", explanation: "å¯ä»¥çµ„å‡ºï¼š12, 13, 21, 23, 31, 32ã€‚ç¸½å…±æœ‰6å€‹ï¼" },
            
            // æ•¸æ„Ÿ (3é¡Œ) - ä½å€¼é€²éšã€ä¼°ç®—
            { category: "ğŸ”¢ æ•¸æ„Ÿ", color: "bg-pink-100 border-pink-300", question: "åœ¨æ•¸å­—ã€Œ83ã€ä¸­ï¼Œæ•¸å­—8ä»£è¡¨çš„å€¼æ˜¯æ•¸å­—3çš„å¹¾å€ï¼Ÿ", options: ["ç„¡æ³•æ¯”è¼ƒ", "8å€", "20å€ä»¥ä¸Š", "ä¸çŸ¥é“"], correct: 2, type: "number_sense", explanation: "æ•¸å­—8åœ¨åä½æ•¸ï¼Œä»£è¡¨80ï¼›æ•¸å­—3åœ¨å€‹ä½æ•¸ï¼Œä»£è¡¨3ã€‚80æ¯”3å¤§å¾ˆå¤šï¼Œè¶…é20å€ï¼" },
            { category: "ğŸ”¢ æ•¸æ„Ÿ", color: "bg-pink-100 border-pink-300", question: "å“ªä¸€å€‹ç®—å¼çš„ç­”æ¡ˆæœ€å¤§ï¼Ÿ", options: ["15 + 8", "30 - 5", "4 x 5", "10 + 14"], correct: 1, type: "number_sense", explanation: "åˆ†åˆ¥ç®—å‡ºä¾†ï¼š15+8=23ï¼Œ30-5=25ï¼Œ4x5=20ï¼Œ10+14=24ã€‚æ¯”è¼ƒä¸€ä¸‹ï¼Œ25æ˜¯æœ€å¤§çš„ï¼" },
            { category: "ğŸ”¢ æ•¸æ„Ÿ", color: "bg-pink-100 border-pink-300", question: "ä¸€å€‹ç“¶å­è£¡è£æ»¿äº†ç³–æœï¼Œå¤§ç´„æœ‰98é¡†ï¼Œé€™å€‹æ•¸é‡æ¯”è¼ƒæ¥è¿‘å¹¾é¡†ï¼Ÿ", options: ["æ¥è¿‘50é¡†", "æ¥è¿‘80é¡†", "æ¥è¿‘100é¡†", "æ¥è¿‘200é¡†"], correct: 2, type: "number_sense", explanation: "98é€™å€‹æ•¸å­—éå¸¸é è¿‘100ï¼Œæ‰€ä»¥æˆ‘å€‘èªªå¤§ç´„æ˜¯100é¡†ã€‚" }
        ];

        const appContainer = document.getElementById('app');

        function handleAnswer(selectedIndex) {
            answers[currentQuestionIndex] = selectedIndex;
            renderApp(); 

            if (currentQuestionIndex < questions.length - 1) {
                setTimeout(() => {
                    currentQuestionIndex++;
                    renderApp();
                }, 2000); 
            } else {
                setTimeout(() => {
                    showResult = true;
                    renderApp();
                }, 2000);
            }
        }

        function restartQuiz() {
            currentQuestionIndex = 0;
            answers = {};
            showResult = false;
            renderApp();
        }

        function calculateResults() {
            const results = {
                calculation: { correct: 0, total: 0 },
                geometry: { correct: 0, total: 0 },
                application: { correct: 0, total: 0 },
                algebra: { correct: 0, total: 0 },
                combination: { correct: 0, total: 0 },
                number_sense: { correct: 0, total: 0 }
            };

            questions.forEach((question, index) => {
                const type = question.type;
                results[type].total++;
                if (answers[index] === question.correct) {
                    results[type].correct++;
                }
            });
            return results;
        }

        function renderApp() {
            document.body.className = 'bg-gradient-to-br from-blue-900 via-purple-900 to-gray-900';

            if (showResult) {
                renderResultScreen();
            } else {
                renderQuestionScreen();
            }
        }

        function renderQuestionScreen() {
            const question = questions[currentQuestionIndex];
            const selectedAnswer = answers[currentQuestionIndex];
            const isAnswered = selectedAnswer !== undefined;

            const optionsHtml = question.options.map((option, index) => {
                let buttonClass = 'bg-gray-800 border-gray-600 text-white hover:bg-gray-700 cursor-pointer';
                let icon = '';

                if (isAnswered) {
                    if (index === question.correct) {
                        buttonClass = 'bg-green-600 border-green-500 text-white';
                        icon = '<span class="inline-block ml-2">âœ…</span>';
                    } else if (index === selectedAnswer) {
                        buttonClass = 'bg-red-600 border-red-500 text-white';
                        icon = '<span class="inline-block ml-2">âŒ</span>';
                    } else {
                        buttonClass = 'bg-gray-700 border-gray-600 text-gray-400';
                    }
                }

                return `
                    <button
                        onclick="${isAnswered ? '' : `handleAnswer(${index})`}"
                        ${isAnswered ? 'disabled' : ''}
                        class="p-4 sm:p-6 rounded-2xl option-text font-bold border-4 transition-all duration-200 transform hover:scale-105 ${buttonClass}"
                    >
                        ${option} ${icon}
                    </button>
                `;
            }).join('');

            appContainer.innerHTML = `
                <div class="max-w-2xl mx-auto">
                    <div class="text-center mb-4">
                        <span class="inline-block bg-clip-text text-transparent bg-gradient-to-r from-yellow-300 via-yellow-500 to-orange-400 px-6 py-3 font-bold text-3xl master-badge">
                            ğŸ“ å¤§å¸«æŒ‘æˆ° ğŸ“
                        </span>
                    </div>

                    <div class="bg-gray-700 bg-opacity-50 rounded-full p-2 mb-6">
                        <div 
                            class="bg-gradient-to-r from-green-400 to-blue-500 rounded-full h-4 transition-all duration-500"
                            style="width: ${((currentQuestionIndex + 1) / questions.length) * 100}%"
                        ></div>
                    </div>

                    <div class="text-center text-white text-xl mb-4">
                        é¡Œç›® ${currentQuestionIndex + 1} / ${questions.length}
                    </div>

                    <div class="bg-gray-800 rounded-3xl shadow-2xl p-6 sm:p-8 border-4 border-blue-500">
                        <div class="text-center mb-6">
                            <div class="text-3xl font-bold text-blue-300 mb-4">
                                ${question.category}
                            </div>
                            <div class="question-text font-bold text-white mb-6 min-h-[8rem] flex flex-col items-center justify-center">
                                ${question.question}
                            </div>
                        </div>

                        <div class="grid grid-cols-2 gap-4">
                            ${optionsHtml}
                        </div>

                        ${isAnswered ? `
                            <div class="mt-6">
                                <div class="text-center text-3xl sm:text-4xl font-bold mb-2 text-white">
                                    ${selectedAnswer === question.correct ? "ğŸ‰ å‚‘å‡ºï¼" : "ğŸ¤” é€™æ˜¯å€‹é›£é¡Œï¼"}
                                </div>
                                ${question.explanation ? `
                                    <div class="bg-gray-700 bg-opacity-80 rounded-xl p-4 mt-4">
                                        <div class="text-lg font-bold text-blue-300 mb-1">ğŸ’¡ å¤§å¸«è§£æï¼š</div>
                                        <div class="text-base text-gray-200">${question.explanation}</div>
                                    </div>
                                ` : ''}
                            </div>
                        ` : ''}
                    </div>
                </div>
            `;
        }
        
        function renderResultScreen() {
            const results = calculateResults();
            const totalCorrect = Object.values(results).reduce((sum, r) => sum + r.correct, 0);
            const totalQuestions = questions.length;
            const scorePercentage = totalCorrect / totalQuestions;
            
            let resultEmoji = "ğŸ§ ";
            let resultMessage = "å®Œæˆå¤§å¸«æŒ‘æˆ°ï¼ä½ çš„æ•¸å­¸é ­è…¦çœŸå²å®³ï¼";
            let starCount = 3;

            if (scorePercentage >= 0.9) {
                resultEmoji = "ğŸŒŸ";
                resultMessage = "å®Œç¾ï¼ä½ æ˜¯çœŸæ­£çš„æ•¸å­¸å¤§å¸«ä¸­çš„å¤§å¸«ï¼";
                starCount = 5;
            } else if (scorePercentage >= 0.7) {
                resultEmoji = "ğŸ‘‘";
                resultMessage = "å¤ªå¼·äº†ï¼ä½ å·²ç¶“å…·å‚™å¤§å¸«ç´šçš„å¯¦åŠ›ï¼";
                starCount = 4;
            } else if (scorePercentage >= 0.5) {
                resultEmoji = "ğŸ†";
                resultMessage = "æ­å–œï¼ä½ æˆåŠŸé€šéäº†å¤§å¸«ç´šçš„è€ƒé©—ï¼";
                starCount = 3;
            }

            const categoryResultsHtml = Object.keys(results).map(key => {
                const categoryMap = {
                    calculation: { name: "ğŸ§® è¨ˆç®—", style: "bg-red-900 border-red-700 text-red-200" },
                    geometry: { name: "ğŸ”º å¹¾ä½•", style: "bg-blue-900 border-blue-700 text-blue-200" },
                    application: { name: "ğŸ›’ æ‡‰ç”¨", style: "bg-green-900 border-green-700 text-green-200" },
                    algebra: { name: "ğŸ¨ ä»£æ•¸", style: "bg-purple-900 border-purple-700 text-purple-200" },
                    combination: { name: "ğŸ§© çµ„åˆ", style: "bg-yellow-900 border-yellow-700 text-yellow-200" },
                    number_sense: { name: "ğŸ”¢ æ•¸æ„Ÿ", style: "bg-pink-900 border-pink-700 text-pink-200" },
                };
                const info = categoryMap[key];
                return `
                    <div class="${info.style} p-4 rounded-xl border-2">
                        <div class="text-lg font-bold">${info.name}</div>
                        <div class="text-xl font-bold">${results[key].correct}/${results[key].total}</div>
                    </div>
                `;
            }).join('');

            const starsHtml = Array(starCount).fill('â­').join(' ');

            appContainer.innerHTML = `
                <div class="max-w-2xl mx-auto">
                    <div class="bg-gray-800 rounded-3xl shadow-2xl p-8 text-center border-4 border-yellow-400">
                        <div class="text-7xl mb-4">${resultEmoji}</div>
                        
                        <h2 class="text-3xl font-bold text-white mb-2">å¤§å¸«æŒ‘æˆ°å®Œæˆï¼</h2>
                        <div class="text-5xl mb-4">${starsHtml}</div>
                        
                        <div class="text-2xl font-bold text-yellow-400 mb-6">
                            ç¸½åˆ†ï¼š${totalCorrect} / ${totalQuestions}
                        </div>

                        <div class="grid grid-cols-2 sm:grid-cols-3 gap-4 mb-6">
                           ${categoryResultsHtml}
                        </div>

                        <div class="text-2xl mb-6 font-bold text-white">
                            ${resultMessage}
                        </div>

                        <button
                            onclick="restartQuiz()"
                            class="bg-gradient-to-r from-blue-500 to-purple-600 text-white text-xl font-bold py-4 px-8 rounded-2xl hover:shadow-lg transform hover:scale-105 transition-all duration-200"
                        >
                            å†æŒ‘æˆ°ä¸€æ¬¡ ğŸš€
                        </button>
                    </div>
                </div>
            `;
        }

        renderApp();

    </script>
</body>
</html>
