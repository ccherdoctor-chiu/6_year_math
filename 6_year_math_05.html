<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å…­æ­²æ•¸å­¸å¤©æ‰æ¸¬é©—</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Noto Sans TC', sans-serif;
        }
        #app > div {
            animation: fadeIn 0.5s ease-in-out;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .genius-badge {
            animation: star-glow 3s infinite ease-in-out;
        }
        @keyframes star-glow {
            0%, 100% {
                transform: scale(1);
                text-shadow: 0 0 10px #fff, 0 0 20px #fde047, 0 0 30px #fde047;
            }
            50% {
                transform: scale(1.1);
                text-shadow: 0 0 20px #fff, 0 0 40px #f59e0b, 0 0 60px #f59e0b;
            }
        }
        .question-text {
            font-size: 1.75rem;
            line-height: 2.25rem;
        }
        .option-text {
            font-size: 1.5rem;
        }
        @media (min-width: 640px) {
            .question-text {
                font-size: 2.25rem;
                line-height: 2.5rem;
            }
            .option-text {
                font-size: 1.75rem;
            }
        }
    </style>
</head>
<body class="bg-gray-100">

    <div id="app" class="min-h-screen p-4">
        <!-- The quiz will be rendered here by JavaScript -->
    </div>

    <script>
        // State variables to manage the quiz
        let currentQuestionIndex = 0;
        let answers = {};
        let showResult = false;

        // Genius level quiz questions for 6-year-olds
        const questions = [
            // è¨ˆç®— (3é¡Œ) - å¸¶é¤˜æ•¸é™¤æ³•ã€å¤šæ­¥é©Ÿæ··åˆé‹ç®—
            { category: "ğŸ§® è¨ˆç®—", color: "bg-red-100 border-red-300", question: "æœ‰17é¡†è˜‹æœğŸï¼Œæ¯5é¡†è£ä¸€è¢‹ï¼Œå¯ä»¥è£æ»¿å¹¾è¢‹ï¼Ÿé‚„å‰©ä¸‹å¹¾é¡†ï¼Ÿ", options: ["è£3è¢‹å‰©2é¡†", "è£2è¢‹å‰©7é¡†", "è£4è¢‹å‰©-3é¡†", "è£3è¢‹å‰©1é¡†"], correct: 0, type: "calculation", explanation: "17 Ã· 5 = 3 ... 2ã€‚å¯ä»¥è£æ»¿3è¢‹ï¼ˆå…±15é¡†ï¼‰ï¼Œé‚„å‰©ä¸‹2é¡†ã€‚" },
            { category: "ğŸ§® è¨ˆç®—", color: "bg-red-100 border-red-300", question: "20 - 5 x 3 = ?", options: ["45", "15", "5", "10"], correct: 2, type: "calculation", explanation: "è¦å…ˆç®—ä¹˜æ³•å†ç®—æ¸›æ³•å–”ï¼5x3=15ï¼Œç„¶å¾Œ20-15=5ã€‚" },
            { category: "ğŸ§® è¨ˆç®—", color: "bg-red-100 border-red-300", question: "(4 + 6) x 5 = ?", options: ["50", "34", "40", "26"], correct: 0, type: "calculation", explanation: "æœ‰æ‹¬è™Ÿçš„è¦å…ˆç®—ï¼4+6=10ï¼Œç„¶å¾Œ10x5=50ã€‚" },
            
            // å¹¾ä½• (3é¡Œ) - åœ–å½¢å±•é–‹åœ–ã€æ—‹è½‰å°ç¨±
            { category: "ğŸ”º å¹¾ä½•", color: "bg-blue-100 border-blue-300", question: "ä¸‹é¢å“ªå€‹åœ–å½¢æ˜¯æ­£æ–¹é«”ğŸ§Šçš„å±•é–‹åœ–ï¼Ÿ", options: ["åå­—å½¢(6æ ¼)", "Lå½¢(6æ ¼)", "ä¸€æ¢ç·š(6æ ¼)", "Tå½¢(5æ ¼)"], correct: 0, type: "geometry", explanation: "æ­£æ–¹é«”æœ‰6å€‹é¢ï¼Œå±•é–‹å¾Œæœ€å¸¸è¦‹çš„æ˜¯åƒåå­—ä¸€æ¨£çš„å½¢ç‹€ã€‚å¯ä»¥æƒ³åƒæŠŠå®ƒæ‘ºèµ·ä¾†ï¼" },
            { category: "ğŸ”º å¹¾ä½•", color: "bg-blue-100 border-blue-300", question: "ä¸€å€‹é¢¨è»Šçš„è‘‰ç‰‡è½‰äº†åŠåœˆå¾Œï¼Œæœƒè·ŸåŸä¾†çš„æ¨£å­ä¸€æ¨£å—ï¼Ÿ", options: ["ä¸€æ¨£", "ä¸ä¸€æ¨£", "ä¸ä¸€å®š", "æœƒè®Šå¤§"], correct: 0, type: "geometry", explanation: "é¢¨è»Šæ˜¯æ—‹è½‰å°ç¨±åœ–å½¢ï¼Œé€šå¸¸è½‰ä¸€å°åœˆå°±æœƒè·ŸåŸä¾†ä¸€æ¨£ï¼Œè½‰åŠåœˆç•¶ç„¶ä¹Ÿæœƒä¸€æ¨£ï¼" },
            { category: "ğŸ”º å¹¾ä½•", color: "bg-blue-100 border-blue-300", question: "ç”¨å…©å€‹å®Œå…¨ä¸€æ¨£çš„ç›´è§’ä¸‰è§’å½¢ğŸ”ºï¼Œä¸èƒ½æ‹¼å‡ºä¸‹é¢å“ªå€‹åœ–å½¢ï¼Ÿ", options: ["é•·æ–¹å½¢", "å¤§ä¸‰è§’å½¢", "å¹³è¡Œå››é‚Šå½¢", "åœ“å½¢"], correct: 3, type: "geometry", explanation: "å…©å€‹ç›´è§’ä¸‰è§’å½¢å¯ä»¥æ‹¼å‡ºå¾ˆå¤šå››é‚Šå½¢å’Œä¸€å€‹æ›´å¤§çš„ä¸‰è§’å½¢ï¼Œä½†ç„¡è«–å¦‚ä½•éƒ½æ‹¼ä¸å‡ºæœ‰å¼§ç·šçš„åœ“å½¢ï¼" },
            
            // æ‡‰ç”¨ (4é¡Œ) - é€†å‘æ€è€ƒã€å¤šé‡æ¢ä»¶é‚è¼¯
            { category: "ğŸ›’ æ‡‰ç”¨", color: "bg-green-100 border-green-300", question: "åª½åª½çµ¦æˆ‘ä¸€äº›éŒ¢ï¼Œæˆ‘èŠ±æ‰15å…ƒå¾Œé‚„å‰©ä¸‹25å…ƒï¼Œåª½åª½åŸæœ¬çµ¦äº†æˆ‘å¤šå°‘éŒ¢ï¼Ÿ", options: ["10å…ƒ", "30å…ƒ", "35å…ƒ", "40å…ƒ"], correct: 3, type: "application", explanation: "é€™é¡Œè¦å€’éä¾†æƒ³ï¼æŠŠèŠ±æ‰çš„éŒ¢åŠ å›å‰©ä¸‹çš„éŒ¢ï¼Œå°±çŸ¥é“åŸæœ¬æœ‰å¤šå°‘äº†ã€‚25 + 15 = 40å…ƒã€‚" },
            { category: "ğŸ›’ æ‡‰ç”¨", color: "bg-green-100 border-green-300", question: "æ± å¡˜è£¡çš„è·èŠ±æ¯å¤©éƒ½æœƒè®Šå…©å€ï¼Œç¬¬10å¤©å‰›å¥½é•·æ»¿æ± å¡˜ï¼Œé‚£ç¬¬å¹¾å¤©é•·åˆ°æ± å¡˜çš„ä¸€åŠï¼Ÿ", options: ["ç¬¬2å¤©", "ç¬¬5å¤©", "ç¬¬8å¤©", "ç¬¬9å¤©"], correct: 3, type: "application", explanation: "æ—¢ç„¶æ¯å¤©éƒ½è®Šå…©å€ï¼Œé‚£é•·æ»¿æ± å¡˜(ç¬¬10å¤©)çš„å‰ä¸€å¤©(ç¬¬9å¤©)ï¼Œè·èŠ±ç•¶ç„¶å°±åªæœ‰æ± å¡˜çš„ä¸€åŠå›‰ï¼" },
            { category: "ğŸ›’ æ‡‰ç”¨", color: "bg-green-100 border-green-300", question: "3å€‹è˜‹æœğŸå’Œ1å€‹é¦™è•‰ğŸŒä¸€æ¨£é‡ï¼Œ1å€‹é¦™è•‰å’Œ5å€‹è‰è“ğŸ“ä¸€æ¨£é‡ã€‚é‚£å¹¾å€‹è‰è“å’Œ1å€‹è˜‹æœä¸€æ¨£é‡ï¼Ÿ", options: ["ç„¡æ³•è¨ˆç®—", "3å€‹", "5å€‹", "8å€‹"], correct: 0, type: "application", explanation: "é€™é¡Œè¶…é›£ï¼3å€‹è˜‹æœ=1å€‹é¦™è•‰=5å€‹è‰è“ã€‚é€™è¡¨ç¤º3å€‹è˜‹æœå’Œ5å€‹è‰è“ä¸€æ¨£é‡ã€‚æˆ‘å€‘é‚„ç„¡æ³•ç®—å‡º1å€‹è˜‹æœç­‰æ–¼å¹¾å€‹è‰è“ã€‚" },
            { category: "ğŸ›’ æ‡‰ç”¨", color: "bg-green-100 border-green-300", question: "ä¸€æ¢æ¯›æ¯›èŸ²ğŸ›è¦çˆ¬ä¸Š10å…¬å°ºçš„ç‰†ï¼Œç‰ ç™½å¤©å‘ä¸Šçˆ¬3å…¬å°ºï¼Œæ™šä¸Šæœƒå‘ä¸‹æ»‘1å…¬å°ºã€‚ç‰ ç¬¬å¹¾å¤©æ‰èƒ½çˆ¬åˆ°ç‰†é ‚ï¼Ÿ", options: ["ç¬¬4å¤©", "ç¬¬5å¤©", "ç¬¬6å¤©", "ç¬¬7å¤©"], correct: 0, type: "application", explanation: "æ¯å¤©å¯¦éš›çˆ¬å‡3-1=2å…¬å°ºã€‚ä½†åˆ°ç¬¬4å¤©ç™½å¤©æ™‚ï¼Œç‰ å·²ç¶“çˆ¬äº†3å¤©x2å…¬å°º=6å…¬å°ºï¼Œå†å‘ä¸Šçˆ¬3å…¬å°ºå°±åˆ°9å…¬å°ºäº†ã€‚ç¬¬5å¤©ç™½å¤©å†çˆ¬3å…¬å°ºå°±è¶…é10å…¬å°ºäº†ï¼" },

            // ä»£æ•¸ (3é¡Œ) - ç¬¦è™Ÿé‹ç®—ã€è¤‡é›œæ•¸åˆ—
            { category: "ğŸ¨ ä»£æ•¸", color: "bg-purple-100 border-purple-300", question: "å¦‚æœ A > Bï¼ŒB > Cï¼Œé‚£éº¼ A å’Œ C èª°æ¯”è¼ƒå¤§ï¼Ÿ", options: ["A > C", "C > A", "ä¸€æ¨£å¤§", "ä¸ä¸€å®š"], correct: 0, type: "algebra", explanation: "Aæ¯”Bå¤§ï¼ŒBåˆæ¯”Cå¤§ï¼Œé‚£Aç•¶ç„¶æ¯”Cå¤§å›‰ï¼é€™å«åšéç§»é—œä¿‚ã€‚" },
            { category: "ğŸ¨ ä»£æ•¸", color: "bg-purple-100 border-purple-300", question: "æ‰¾è¦å¾‹ï¼š1, 1, 2, 3, 5, 8, ?", options: ["10", "11", "12", "13"], correct: 3, type: "algebra", explanation: "é€™å€‹æ•¸åˆ—æ˜¯æŠŠå‰å…©å€‹æ•¸å­—åŠ èµ·ä¾†ç­‰æ–¼ä¸‹ä¸€å€‹æ•¸å­—ï¼š1+1=2, 1+2=3, 2+3=5, 3+5=8, æ‰€ä»¥ä¸‹ä¸€å€‹æ˜¯5+8=13ã€‚é€™å«è²»æ³¢é‚£å¥‘æ•¸åˆ—ï¼" },
            { category: "ğŸ¨ ä»£æ•¸", color: "bg-purple-100 border-purple-300", question: "A x B = 12ï¼ŒA + B = 7ï¼ŒAå’ŒBæ˜¯å¤šå°‘ï¼Ÿ(Aå’ŒBæ˜¯æ•´æ•¸)", options: ["A=2, B=6", "A=1, B=12", "A=3, B=4", "A=5, B=2"], correct: 2, type: "algebra", explanation: "è©¦è©¦çœ‹é¸é …ï¼Œåªæœ‰3x4=12ï¼Œè€Œä¸”3+4=7ï¼Œå®Œå…¨ç¬¦åˆï¼" },
            
            // çµ„åˆ (3é¡Œ) - æ’åˆ—çµ„åˆé€²éš
            { category: "ğŸ§© çµ„åˆ", color: "bg-yellow-100 border-yellow-300", question: "æœ‰4å€‹å°æœ‹å‹è¦æ’æˆä¸€æ’æ‹ç…§ï¼Œç¸½å…±æœ‰å¹¾ç¨®ä¸åŒçš„æ’æ³•ï¼Ÿ", options: ["4ç¨®", "10ç¨®", "16ç¨®", "24ç¨®"], correct: 3, type: "combination", explanation: "ç¬¬ä¸€å€‹ä½ç½®æœ‰4ç¨®é¸æ“‡ï¼Œç¬¬äºŒå€‹ä½ç½®å‰©3ç¨®...ç¸½å…±æ˜¯ 4x3x2x1 = 24ç¨®æ’æ³•ï¼" },
            { category: "ğŸ§© çµ„åˆ", color: "bg-yellow-100 border-yellow-300", question: "å¾5æœ¬æ›¸ä¸­é¸å‡º2æœ¬ï¼Œæœ‰å¹¾ç¨®ä¸åŒçš„é¸æ³•ï¼Ÿ", options: ["5ç¨®", "7ç¨®", "10ç¨®", "20ç¨®"], correct: 2, type: "combination", explanation: "é€™é¡Œéœ€è¦ä¸€é»æŠ€å·§ï¼Œç­”æ¡ˆæ˜¯ (5x4) / (2x1) = 10ç¨®ã€‚é€™å°ä½ ä¾†èªªå¯èƒ½å¤ªé›£äº†ï¼Œä½†ä½ å¾ˆæ£’é¡˜æ„æŒ‘æˆ°ï¼" },
            { category: "ğŸ§© çµ„åˆ", color: "bg-yellow-100 border-yellow-300", question: "æˆ‘èªªçš„ä¸æ˜¯çœŸè©±ã€‚è«‹å•æˆ‘èªªçš„æ˜¯çœŸè©±é‚„æ˜¯å‡è©±ï¼Ÿ", options: ["çœŸè©±", "å‡è©±", "éƒ½æœ‰å¯èƒ½", "ç„¡æ³•åˆ¤æ–·"], correct: 3, type: "combination", explanation: "é€™æ˜¯ä¸€å€‹é‚è¼¯æ‚–è«–ï¼å¦‚æœæˆ‘èªªçš„æ˜¯çœŸè©±ï¼Œé‚£ã€Œæˆ‘èªªçš„ä¸æ˜¯çœŸè©±ã€é€™å¥è©±å°±æ˜¯çœŸçš„ï¼Œç”¢ç”ŸçŸ›ç›¾ã€‚å¦‚æœæˆ‘èªªçš„æ˜¯å‡è©±ï¼Œé‚£ã€Œæˆ‘èªªçš„ä¸æ˜¯çœŸè©±ã€å°±æ˜¯å‡çš„ï¼Œä»£è¡¨æˆ‘èªªçš„æ˜¯çœŸè©±ï¼Œä¹ŸçŸ›ç›¾äº†ï¼" },
            
            // æ•¸æ„Ÿ (3é¡Œ) - åˆ†æ•¸æ¦‚å¿µã€æ©Ÿç‡
            { category: "ğŸ”¢ æ•¸æ„Ÿ", color: "bg-pink-100 border-pink-300", question: "ä¸€å€‹æŠ«è–©ğŸ•åˆ‡æˆ8ç‰‡ï¼Œæˆ‘åƒäº†1/4ï¼Œæ˜¯åƒæ‰äº†å¹¾ç‰‡ï¼Ÿ", options: ["1ç‰‡", "2ç‰‡", "3ç‰‡", "4ç‰‡"], correct: 1, type: "number_sense", explanation: "1/4 å°±æ˜¯å››åˆ†ä¹‹ä¸€ã€‚æŠŠ8ç‰‡åˆ†æˆ4ç­‰ä»½ï¼Œæ¯ä¸€ä»½å°±æ˜¯ 8Ã·4=2ç‰‡ã€‚" },
            { category: "ğŸ”¢ æ•¸æ„Ÿ", color: "bg-pink-100 border-pink-300", question: "ä¸€å€‹è¢‹å­è£¡æœ‰3é¡†ç´…çƒğŸ”´å’Œ1é¡†è—çƒğŸ”µï¼Œéš¨ä¾¿æ‹¿ä¸€é¡†ï¼Œæ‹¿åˆ°å“ªç¨®é¡è‰²çš„å¯èƒ½æ€§æ¯”è¼ƒå¤§ï¼Ÿ", options: ["ç´…è‰²", "è—è‰²", "ä¸€æ¨£å¤§", "ä¸ä¸€å®š"], correct: 0, type: "number_sense", explanation: "å› ç‚ºç´…çƒçš„æ•¸é‡æ¯”è¼ƒå¤šï¼Œæ‰€ä»¥éš¨æ‰‹ä¸€æ‹¿ï¼Œæ‹¿åˆ°ç´…çƒçš„å¯èƒ½æ€§ç•¶ç„¶æ¯”è¼ƒå¤§å›‰ï¼" },
            { category: "ğŸ”¢ æ•¸æ„Ÿ", color: "bg-pink-100 border-pink-300", question: "0ã€5ã€100ï¼Œå“ªå€‹æ•¸å­—ä¸èƒ½ç•¶é™¤æ•¸ï¼Ÿ", options: ["0", "5", "100", "éƒ½å¯ä»¥"], correct: 0, type: "number_sense", explanation: "åœ¨æ•¸å­¸è£¡ï¼Œ0æ˜¯çµ•å°ä¸èƒ½ç•¶é™¤æ•¸çš„ï¼å› ç‚ºä»»ä½•æ•¸é™¤ä»¥0éƒ½æ²’æœ‰æ„ç¾©ã€‚" }
        ];

        const appContainer = document.getElementById('app');

        function handleAnswer(selectedIndex) {
            answers[currentQuestionIndex] = selectedIndex;
            renderApp(); 

            if (currentQuestionIndex < questions.length - 1) {
                setTimeout(() => {
                    currentQuestionIndex++;
                    renderApp();
                }, 2500); 
            } else {
                setTimeout(() => {
                    showResult = true;
                    renderApp();
                }, 2500);
            }
        }

        function restartQuiz() {
            currentQuestionIndex = 0;
            answers = {};
            showResult = false;
            renderApp();
        }

        function calculateResults() {
            const results = {
                calculation: { correct: 0, total: 0 },
                geometry: { correct: 0, total: 0 },
                application: { correct: 0, total: 0 },
                algebra: { correct: 0, total: 0 },
                combination: { correct: 0, total: 0 },
                number_sense: { correct: 0, total: 0 }
            };

            questions.forEach((question, index) => {
                const type = question.type;
                results[type].total++;
                if (answers[index] === question.correct) {
                    results[type].correct++;
                }
            });
            return results;
        }

        function renderApp() {
            document.body.className = 'bg-gradient-to-br from-gray-900 via-black to-blue-900';

            if (showResult) {
                renderResultScreen();
            } else {
                renderQuestionScreen();
            }
        }

        function renderQuestionScreen() {
            const question = questions[currentQuestionIndex];
            const selectedAnswer = answers[currentQuestionIndex];
            const isAnswered = selectedAnswer !== undefined;

            const optionsHtml = question.options.map((option, index) => {
                let buttonClass = 'bg-gray-800 border-gray-600 text-white hover:bg-gray-700 cursor-pointer';
                let icon = '';

                if (isAnswered) {
                    if (index === question.correct) {
                        buttonClass = 'bg-yellow-500 border-yellow-400 text-black';
                        icon = '<span class="inline-block ml-2">ğŸŒŸ</span>';
                    } else if (index === selectedAnswer) {
                        buttonClass = 'bg-red-800 border-red-600 text-white';
                        icon = '<span class="inline-block ml-2">âŒ</span>';
                    } else {
                        buttonClass = 'bg-gray-700 border-gray-600 text-gray-400';
                    }
                }

                return `
                    <button
                        onclick="${isAnswered ? '' : `handleAnswer(${index})`}"
                        ${isAnswered ? 'disabled' : ''}
                        class="p-4 sm:p-6 rounded-2xl option-text font-bold border-4 transition-all duration-200 transform hover:scale-105 ${buttonClass}"
                    >
                        ${option} ${icon}
                    </button>
                `;
            }).join('');

            appContainer.innerHTML = `
                <div class="max-w-2xl mx-auto">
                    <div class="text-center mb-4">
                        <span class="inline-block bg-clip-text text-transparent bg-gradient-to-r from-yellow-300 via-amber-400 to-orange-500 px-6 py-3 font-bold text-4xl genius-badge">
                            âœ¨ å¤©æ‰æŒ‘æˆ° âœ¨
                        </span>
                    </div>

                    <div class="bg-gray-700 bg-opacity-50 rounded-full p-2 mb-6">
                        <div 
                            class="bg-gradient-to-r from-purple-500 via-pink-500 to-yellow-500 rounded-full h-4 transition-all duration-500"
                            style="width: ${((currentQuestionIndex + 1) / questions.length) * 100}%"
                        ></div>
                    </div>

                    <div class="text-center text-white text-xl mb-4">
                        é¡Œç›® ${currentQuestionIndex + 1} / ${questions.length}
                    </div>

                    <div class="bg-gray-800 rounded-3xl shadow-2xl p-6 sm:p-8 border-4 border-purple-500">
                        <div class="text-center mb-6">
                            <div class="text-3xl font-bold text-purple-300 mb-4">
                                ${question.category}
                            </div>
                            <div class="question-text font-bold text-white mb-6 min-h-[8rem] flex flex-col items-center justify-center">
                                ${question.question}
                            </div>
                        </div>

                        <div class="grid grid-cols-2 gap-4">
                            ${optionsHtml}
                        </div>

                        ${isAnswered ? `
                            <div class="mt-6">
                                <div class="text-center text-3xl sm:text-4xl font-bold mb-2 text-white">
                                    ${selectedAnswer === question.correct ? "ğŸŒŒ ç­”å°äº†ï¼Œå¤©æ‰ï¼" : "ğŸ¤¯ é€™é¡Œç¢ºå¯¦ä¸å‡¡ï¼"}
                                </div>
                                ${question.explanation ? `
                                    <div class="bg-gray-700 bg-opacity-80 rounded-xl p-4 mt-4">
                                        <div class="text-lg font-bold text-purple-300 mb-1">ğŸ’¡ å¤©æ‰è§£æï¼š</div>
                                        <div class="text-base text-gray-200">${question.explanation}</div>
                                    </div>
                                ` : ''}
                            </div>
                        ` : ''}
                    </div>
                </div>
            `;
        }
        
        function renderResultScreen() {
            const results = calculateResults();
            const totalCorrect = Object.values(results).reduce((sum, r) => sum + r.correct, 0);
            const totalQuestions = questions.length;
            const scorePercentage = totalCorrect / totalQuestions;
            
            let resultEmoji = "ğŸ¤¯";
            let resultMessage = "æŒ‘æˆ°å·”å³°ï¼ä½ çš„æ€ç¶­è¶…è¶Šäº†å¤§å¤šæ•¸äººï¼";
            let starCount = 4;

            if (scorePercentage >= 0.9) {
                resultEmoji = "ğŸŒŒ";
                resultMessage = "ä¸å¯æ€è­°ï¼ä½ å°±æ˜¯è¬ä¸­é¸ä¸€çš„æ•¸å­¸å¤©æ‰ï¼";
                starCount = 5;
            } else if (scorePercentage >= 0.7) {
                resultEmoji = "ğŸŒŸ";
                resultMessage = "å“è¶Šçš„è¡¨ç¾ï¼ä½ å·²è§¸åŠå¤©æ‰çš„é ˜åŸŸï¼";
                starCount = 4;
            } else if (scorePercentage >= 0.5) {
                resultEmoji = "ğŸ§ ";
                resultMessage = "éå¸¸å‚‘å‡ºï¼ä½ æˆåŠŸé§•é¦­äº†å¤©æ‰ç´šçš„é›£é¡Œï¼";
                starCount = 3;
            }

            const categoryResultsHtml = Object.keys(results).map(key => {
                const categoryMap = {
                    calculation: { name: "ğŸ§® è¨ˆç®—", style: "bg-red-900 border-red-700 text-red-200" },
                    geometry: { name: "ğŸ”º å¹¾ä½•", style: "bg-blue-900 border-blue-700 text-blue-200" },
                    application: { name: "ğŸ›’ æ‡‰ç”¨", style: "bg-green-900 border-green-700 text-green-200" },
                    algebra: { name: "ğŸ¨ ä»£æ•¸", style: "bg-purple-900 border-purple-700 text-purple-200" },
                    combination: { name: "ğŸ§© çµ„åˆ", style: "bg-yellow-900 border-yellow-700 text-yellow-200" },
                    number_sense: { name: "ğŸ”¢ æ•¸æ„Ÿ", style: "bg-pink-900 border-pink-700 text-pink-200" },
                };
                const info = categoryMap[key];
                return `
                    <div class="${info.style} p-4 rounded-xl border-2">
                        <div class="text-lg font-bold">${info.name}</div>
                        <div class="text-xl font-bold">${results[key].correct}/${results[key].total}</div>
                    </div>
                `;
            }).join('');

            const starsHtml = Array(starCount).fill('âœ¨').join(' ');

            appContainer.innerHTML = `
                <div class="max-w-2xl mx-auto">
                    <div class="bg-gray-800 rounded-3xl shadow-2xl p-8 text-center border-4 border-yellow-400">
                        <div class="text-7xl mb-4">${resultEmoji}</div>
                        
                        <h2 class="text-3xl font-bold text-white mb-2">å¤©æ‰æŒ‘æˆ°å®Œæˆï¼</h2>
                        <div class="text-5xl mb-4">${starsHtml}</div>
                        
                        <div class="text-2xl font-bold text-yellow-400 mb-6">
                            ç¸½åˆ†ï¼š${totalCorrect} / ${totalQuestions}
                        </div>

                        <div class="grid grid-cols-2 sm:grid-cols-3 gap-4 mb-6">
                           ${categoryResultsHtml}
                        </div>

                        <div class="text-2xl mb-6 font-bold text-white">
                            ${resultMessage}
                        </div>

                        <button
                            onclick="restartQuiz()"
                            class="bg-gradient-to-r from-purple-600 to-indigo-700 text-white text-xl font-bold py-4 px-8 rounded-2xl hover:shadow-lg transform hover:scale-105 transition-all duration-200"
                        >
                            å†æŒ‘æˆ°ä¸€æ¬¡ ğŸš€
                        </button>
                    </div>
                </div>
            `;
        }

        renderApp();

    </script>
</body>
</html>
