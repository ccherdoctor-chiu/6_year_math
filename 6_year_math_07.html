<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å…­æ­²æ•¸å­¸å“²äººæ¸¬é©—</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Serif+TC:wght@400;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Noto Serif TC', serif;
            background-color: #fdf6e3; /* Parchment color */
            background-image: url('https://www.transparenttextures.com/patterns/old-wall.png');
        }
        #app > div {
            animation: fadeIn 0.8s ease-in-out;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .philosopher-badge {
            animation: gentle-glow 3s infinite alternate;
        }
        @keyframes gentle-glow {
            from {
                text-shadow: 0 0 5px #d4af37, 0 0 10px #d4af37;
            }
            to {
                text-shadow: 0 0 10px #f7d56e, 0 0 15px #f7d56e;
            }
        }
        .question-text {
            font-size: 1.75rem;
            line-height: 2.5rem;
        }
        .option-text {
            font-size: 1.5rem;
        }
        @media (min-width: 640px) {
            .question-text {
                font-size: 2.25rem;
                line-height: 2.75rem;
            }
            .option-text {
                font-size: 1.75rem;
            }
        }
    </style>
</head>
<body class="bg-gray-100">

    <div id="app" class="min-h-screen p-4">
        <!-- The quiz will be rendered here by JavaScript -->
    </div>

    <script>
        // State variables to manage the quiz
        let currentQuestionIndex = 0;
        let answers = {};
        let showResult = false;

        // Philosopher level quiz questions for 6-year-olds
        const questions = [
            // è¨ˆç®— (3é¡Œ) - é‹ç®—å®šå¾‹ã€é›¶çš„ç‰¹æ€§
            { category: "ğŸ§® è¨ˆç®—", color: "bg-amber-100 border-amber-300", question: "5 + 8 å’Œ 8 + 5 çš„ç­”æ¡ˆä¸€æ¨£å—ï¼Ÿç‚ºä»€éº¼ï¼Ÿ", options: ["ä¸€æ¨£ï¼Œå› ç‚ºé †åºä¸é‡è¦", "ä¸ä¸€æ¨£ï¼Œæ•¸å­—ä¸åŒ", "ä¸ä¸€æ¨£ï¼Œä½ç½®ä¸åŒ", "æœ‰æ™‚å€™ä¸€æ¨£"], correct: 0, type: "calculation", explanation: "åœ¨åŠ æ³•ä¸­ï¼Œæ•¸å­—çš„é †åºä¸å½±éŸ¿çµæœã€‚é€™ç¨±ç‚ºã€ŒåŠ æ³•äº¤æ›å¾‹ã€ï¼Œæ˜¯æ•¸å­¸çš„ä¸€å€‹åŸºæœ¬è¦å‰‡ã€‚" },
            { category: "ğŸ§® è¨ˆç®—", color: "bg-amber-100 border-amber-300", question: "ä»»ä½•æ•¸å­—ä¹˜ä»¥ 0ï¼Œç­”æ¡ˆæœƒæ˜¯å¤šå°‘ï¼Ÿ", options: ["ç­‰æ–¼é‚£å€‹æ•¸å­—", "ç­‰æ–¼ 1", "ç­‰æ–¼ 0", "ä¸ä¸€å®š"], correct: 2, type: "calculation", explanation: "0ä¹˜ä»¥ä»»ä½•æ•¸éƒ½ç­‰æ–¼0ã€‚æƒ³åƒä¸€ä¸‹ï¼Œä½ æœ‰5å€‹ç›¤å­ï¼Œä½†æ¯å€‹ç›¤å­è£¡æœ‰0å€‹è˜‹æœï¼Œé‚£ä½ ç¸½å…±å°±æ˜¯0å€‹è˜‹æœã€‚" },
            { category: "ğŸ§® è¨ˆç®—", color: "bg-amber-100 border-amber-300", question: "å¦‚æœä½ æœ‰ A è¢‹ç³–æœï¼Œæ¯è¢‹æœ‰ 0 é¡†ï¼Œé‚£ä½ ç¸½å…±å¤šå°‘é¡†ï¼Ÿ", options: ["20", "10", "0", "30"], correct: 2, type: "calculation", explanation: "0å’Œå…¶ä»–æ•¸å­—ç›¸ä¹˜ç­‰æ–¼0ã€‚é€™æ˜¯ä¸€å€‹éå¸¸é‡è¦çš„æ•¸å­¸æ¦‚å¿µï¼" },
            
            // å¹¾ä½• (3é¡Œ) - ç¶­åº¦ã€é»ç·šé¢
            { category: "ğŸ”º å¹¾ä½•", color: "bg-cyan-100 border-cyan-300", question: "ä¸€æ¢ç„¡é™é•·çš„ç›´ç·šï¼Œæœ‰å¹¾å€‹ã€Œç«¯é»ã€ï¼Ÿ", options: ["1å€‹", "2å€‹", "ç„¡é™å¤šå€‹", "0å€‹"], correct: 3, type: "geometry", explanation: "æ ¹æ“šå®šç¾©ï¼Œç›´ç·šæ˜¯å‘å…©å€‹æ–¹å‘ç„¡é™å»¶ä¼¸çš„ï¼Œæ‰€ä»¥å®ƒæ²’æœ‰èµ·é»ï¼Œä¹Ÿæ²’æœ‰çµ‚é»ï¼ˆç«¯é»ï¼‰ã€‚" },
            { category: "ğŸ”º å¹¾ä½•", color: "bg-cyan-100 border-cyan-300", question: "æˆ‘å€‘ç”Ÿæ´»åœ¨ä¸€å€‹å¹¾ç¶­çš„ç©ºé–“è£¡ï¼Ÿ", options: ["ä¸€ç¶­(ç·š)", "äºŒç¶­(å¹³é¢)", "ä¸‰ç¶­(ç«‹é«”)", "å››ç¶­(æ™‚é–“)"], correct: 2, type: "geometry", explanation: "æˆ‘å€‘å¯ä»¥åœ¨å‰å¾Œã€å·¦å³ã€ä¸Šä¸‹ç§»å‹•ï¼Œé€™ä¸‰å€‹æ–¹å‘æ§‹æˆäº†æˆ‘å€‘çš„ä¸‰ç¶­ç«‹é«”ç©ºé–“ã€‚" },
            { category: "ğŸ”º å¹¾ä½•", color: "bg-cyan-100 border-cyan-300", question: "åœ¨ä¸€å€‹çƒçš„è¡¨é¢ç•«ä¸€å€‹ä¸‰è§’å½¢ï¼Œå®ƒçš„ä¸‰å€‹å…§è§’åŠ èµ·ä¾†æœƒæ˜¯å¤šå°‘åº¦ï¼Ÿ", options: ["å°æ–¼180åº¦", "ç­‰æ–¼180åº¦", "å¤§æ–¼180åº¦", "ä¸ä¸€å®š"], correct: 2, type: "geometry", explanation: "åœ¨æ›²é¢ä¸Šï¼Œå¹¾ä½•è¦å‰‡æœƒæ”¹è®Šï¼åœ¨çƒé¢ä¸Šç•«çš„ä¸‰è§’å½¢ï¼Œå…§è§’å’Œæœƒå¤§æ–¼180åº¦ã€‚é€™å°±æ˜¯éæ­å¹¾é‡Œå¾—å¹¾ä½•å­¸çš„å¥‡å¦™ä¹‹è™•ï¼" },
            
            // æ‡‰ç”¨ (4é¡Œ) - æ€æƒ³å¯¦é©—ã€åäº‹å¯¦æ€è€ƒ
            { category: "ğŸ›’ æ‡‰ç”¨", color: "bg-lime-100 border-lime-300", question: "å¦‚æœæ™‚é–“å¯ä»¥å€’æµï¼Œä½ æœƒè®Šå¹´è¼•é‚„æ˜¯è®Šè€ï¼Ÿ", options: ["è®Šå¹´è¼•", "è®Šè€", "ä¸è®Š", "é€™å•é¡Œæ²’æœ‰æ„ç¾©"], correct: 3, type: "application", explanation: "é€™æ˜¯ä¸€å€‹å“²å­¸å•é¡Œï¼æ™‚é–“èˆ‡å› æœé—œä¿‚ç·Šå¯†ç›¸é€£ã€‚é€™å€‹å•é¡Œæ²’æœ‰æ¨™æº–ç­”æ¡ˆï¼Œæ—¨åœ¨æ¿€ç™¼ä½ å°æ™‚é–“æœ¬è³ªçš„æ€è€ƒã€‚" },
            { category: "ğŸ›’ æ‡‰ç”¨", color: "bg-lime-100 border-lime-300", question: "ä¸€è‰˜èˆ¹æ›æ‰äº†æ‰€æœ‰çš„æœ¨æ¿ï¼Œå®ƒé‚„æ˜¯åŸä¾†é‚£è‰˜èˆ¹å—ï¼Ÿ", options: ["æ˜¯", "ä¸æ˜¯", "ä¸€éƒ¨åˆ†æ˜¯", "ç„¡æ³•å®šç¾©"], correct: 3, type: "application", explanation: "é€™æ˜¯è‘—åçš„ã€Œå¿’ä¿®æ–¯ä¹‹èˆ¹ã€æ‚–è«–ã€‚å®ƒæ¢è¨äº†ã€ŒåŒä¸€æ€§ã€çš„å“²å­¸å•é¡Œï¼Œæ²’æœ‰çµ•å°çš„ç­”æ¡ˆã€‚" },
            { category: "ğŸ›’ æ‡‰ç”¨", color: "bg-lime-100 border-lime-300", question: "å¦‚æœæ²’æœ‰äººçœ‹è¦‹æ¨¹åœ¨æ£®æ—è£¡å€’ä¸‹ï¼Œå®ƒæœ‰ç™¼å‡ºè²éŸ³å—ï¼Ÿ", options: ["æœ‰", "æ²’æœ‰", "ä¸çŸ¥é“", "çœ‹ä½ å¦‚ä½•å®šç¾©è²éŸ³"], correct: 3, type: "application", explanation: "é€™å€‹å•é¡Œå–æ±ºæ–¼ä½ å°ã€Œè²éŸ³ã€çš„å®šç¾©ã€‚å¦‚æœè²éŸ³æ˜¯ç‰©ç†çš„æŒ¯å‹•ï¼Œé‚£å®ƒæœ‰ç™¼å‡ºè²éŸ³ã€‚å¦‚æœè²éŸ³éœ€è¦è¢«ã€Œè½åˆ°ã€ï¼Œé‚£å®ƒå°±æ²’æœ‰ã€‚" },
            { category: "ğŸ›’ æ‡‰ç”¨", color: "bg-lime-100 border-lime-300", question: "ä½ é¢å‰æœ‰å…©æ‰‡é–€ï¼Œä¸€æ‰‡é€šå¾€å¤©å ‚ï¼Œä¸€æ‰‡é€šå¾€åœ°ç„ã€‚é–€å£æœ‰å…©å€‹å®ˆè¡›ï¼Œä¸€å€‹åªèªªçœŸè©±ï¼Œä¸€å€‹åªèªªå‡è©±ã€‚ä½ åªèƒ½å•ä¸€å€‹å•é¡Œï¼Œè¦æ€éº¼å•æ‰èƒ½æ‰¾åˆ°å¤©å ‚ä¹‹é–€ï¼Ÿ", options: ["å•èª°æ˜¯é¨™å­", "ç›´æ¥çŒœä¸€æ‰‡é–€", "å•ã€å¦‚æœæˆ‘å•å¦ä¸€å€‹äººå¤©å ‚åœ¨å“ªï¼Œä»–æœƒæŒ‡å“ªæ‰‡é–€ï¼Ÿã€", "è¾¦ä¸åˆ°"], correct: 2, type: "application", explanation: "å•é€™å€‹å•é¡Œå¾Œï¼Œç„¡è«–ä½ å•åˆ°èª°ï¼Œä»–æŒ‡å‡ºçš„éƒ½æœƒæ˜¯åœ°ç„ä¹‹é–€ã€‚æ‰€ä»¥ä½ åªè¦é¸æ“‡å¦ä¸€æ‰‡é–€å°±å¯ä»¥äº†ï¼" },

            // ä»£æ•¸ (3é¡Œ) - è®Šé‡çš„æœ¬è³ª
            { category: "ğŸ¨ ä»£æ•¸", color: "bg-violet-100 border-violet-300", question: "åœ¨ X + 5 = 8 ä¸­ï¼ŒX ä»£è¡¨ä»€éº¼ï¼Ÿ", options: ["ä¸€å€‹å­—æ¯", "ä¸€å€‹å›ºå®šçš„æ•¸å­—(3)", "ä¸€å€‹å¯ä»¥è®Šçš„æ•¸å­—", "ä¸€å€‹éŒ¯èª¤"], correct: 1, type: "algebra", explanation: "åœ¨æ–¹ç¨‹å¼ä¸­ï¼ŒXï¼ˆè®Šé‡ï¼‰ä»£è¡¨ä¸€å€‹ç›®å‰æœªçŸ¥ä½†å›ºå®šçš„æ•¸å€¼ã€‚æˆ‘å€‘çš„ä»»å‹™å°±æ˜¯æ‰¾å‡ºé€™å€‹æ•¸å€¼ã€‚" },
            { category: "ğŸ¨ ä»£æ•¸", color: "bg-violet-100 border-violet-300", question: "ã€Œä¸€å€‹æ•¸å­—ã€æ¯”ã€Œå¦ä¸€å€‹æ•¸å­—ã€å¤§5ã€‚æˆ‘å€‘å¯ä»¥ç”¨ä»£æ•¸æ€éº¼è¡¨ç¤ºï¼Ÿ", options: ["X = Y", "X > 5", "X = Y + 5", "X + 5 > Y"], correct: 2, type: "algebra", explanation: "é€™å±•ç¾äº†ä»£æ•¸å¦‚ä½•ç”¨ç¬¦è™Ÿä¾†è¡¨é”æ•¸é‡ä¹‹é–“çš„é—œä¿‚ã€‚X = Y + 5 ç²¾ç¢ºåœ°æè¿°äº†é€™å€‹æƒ…æ³ã€‚" },
            { category: "ğŸ¨ ä»£æ•¸", color: "bg-violet-100 border-violet-300", question: "ç‚ºä»€éº¼æˆ‘å€‘éœ€è¦ç”¨ X æˆ– Y é€™äº›ç¬¦è™Ÿï¼Ÿ", options: ["å› ç‚ºå¥½çœ‹", "ç‚ºäº†è®“æ•¸å­¸è®Šé›£", "ç‚ºäº†ä»£è¡¨æœªçŸ¥æˆ–è®ŠåŒ–çš„é‡", "æ²’æœ‰ç‰¹åˆ¥åŸå› "], correct: 2, type: "algebra", explanation: "ä»£æ•¸ç¬¦è™Ÿæ˜¯å¼·å¤§çš„å·¥å…·ï¼Œè®“æˆ‘å€‘å¯ä»¥è™•ç†æœªçŸ¥æ•¸ï¼Œä¸¦å¯«å‡ºé©ç”¨æ–¼æ‰€æœ‰æ•¸å­—çš„é€šç”¨è¦å‰‡ã€‚" },
            
            // çµ„åˆ (3é¡Œ) - é›†åˆè«–ã€ç„¡é™
            { category: "ğŸ§© çµ„åˆ", color: "bg-orange-100 border-orange-300", question: "æ‰€æœ‰ã€Œå¥‡æ•¸ã€çš„é›†åˆå’Œæ‰€æœ‰ã€Œæ•´æ•¸ã€çš„é›†åˆï¼Œå“ªå€‹åŒ…å«çš„æ•¸å­—æ¯”è¼ƒå¤šï¼Ÿ", options: ["å¥‡æ•¸æ¯”è¼ƒå¤š", "æ•´æ•¸æ¯”è¼ƒå¤š", "ä¸€æ¨£å¤š", "ä¸èƒ½æ¯”è¼ƒ"], correct: 2, type: "combination", explanation: "åœ¨ç„¡é™çš„ä¸–ç•Œè£¡ï¼Œè¦å‰‡å¾ˆå¥‡å¦™ï¼æˆ‘å€‘å¯ä»¥å°‡æ¯å€‹æ•´æ•¸éƒ½å°æ‡‰åˆ°ä¸€å€‹å¥‡æ•¸(n -> 2n-1)ï¼Œæ‰€ä»¥å®ƒå€‘è¢«èªç‚ºæ˜¯ã€Œä¸€æ¨£å¤šã€çš„ã€‚é€™ç¨±ç‚ºã€ŒåŸºæ•¸ç›¸ç­‰ã€ã€‚" },
            { category: "ğŸ§© çµ„åˆ", color: "bg-orange-100 border-orange-300", question: "ä¸€å€‹é›†åˆå¯ä»¥åŒ…å«ã€Œæ‰€æœ‰ä¸åŒ…å«è‡ªå·±çš„é›†åˆã€å—ï¼Ÿ", options: ["å¯ä»¥", "ä¸å¯ä»¥", "çœ‹æƒ…æ³", "é€™æ˜¯å€‹çŸ›ç›¾"], correct: 3, type: "combination", explanation: "é€™æ˜¯è‘—åçš„ã€Œç¾…ç´ æ‚–è«–ã€ã€‚å¦‚æœé€™å€‹é›†åˆåŒ…å«è‡ªå·±ï¼Œé‚£å®ƒå°±é•åäº†ã€Œä¸åŒ…å«è‡ªå·±ã€çš„è¦å‰‡ã€‚å¦‚æœå®ƒä¸åŒ…å«è‡ªå·±ï¼Œé‚£å®ƒåˆç¬¦åˆäº†è¢«åŒ…å«çš„æ¢ä»¶ã€‚é€™æ˜¯ä¸€å€‹é‚è¼¯ä¸Šçš„æ­»èƒ¡åŒï¼" },
            { category: "ğŸ§© çµ„åˆ", color: "bg-orange-100 border-orange-300", question: "å¦‚æœæˆ‘æœ‰ç„¡é™é¡†ç³–æœï¼Œåˆ†çµ¦ä½ ä¸€åŠï¼Œæˆ‘çš„ç³–æœæœƒè®Šå°‘å—ï¼Ÿ", options: ["æœƒ", "ä¸æœƒ", "ä¸çŸ¥é“", "ç„¡é™ä¸èƒ½åˆ†"], correct: 1, type: "combination", explanation: "ç„¡é™æ¸›å»ç„¡é™ï¼Œæˆ–è€…ç„¡é™é™¤ä»¥äºŒï¼Œçµæœä»ç„¶æ˜¯ç„¡é™ã€‚é€™æ˜¯ç„¡é™é€™å€‹æ¦‚å¿µæœ€é•åç›´è¦ºä¹Ÿæœ€æœ‰è¶£çš„åœ°æ–¹ä¹‹ä¸€ï¼" },
            
            // æ•¸æ„Ÿ (3é¡Œ) - æ•¸çš„æœ¬è³ª
            { category: "ğŸ”¢ æ•¸æ„Ÿ", color: "bg-rose-100 border-rose-300", question: "æ•¸å­—æ˜¯è¢«äººå€‘ã€Œç™¼æ˜ã€å‡ºä¾†çš„ï¼Œé‚„æ˜¯æœ¬ä¾†å°±å­˜åœ¨ï¼Œåªæ˜¯è¢«ã€Œç™¼ç¾ã€ï¼Ÿ", options: ["ç™¼æ˜", "ç™¼ç¾", "éƒ½æœ‰å¯èƒ½", "é€™ä¸æ˜¯æ•¸å­¸å•é¡Œ"], correct: 2, type: "number_sense", explanation: "é€™æ˜¯ä¸€å€‹é•·ä¹…ä»¥ä¾†çš„å“²å­¸è¾¯è«–ï¼æœ‰äº›äººèªç‚ºæ•¸å­¸æ˜¯å®‡å®™çš„èªè¨€ï¼Œæˆ‘å€‘åªæ˜¯ç™¼ç¾äº†å®ƒã€‚æœ‰äº›äººå‰‡èªç‚ºå®ƒæ˜¯äººé¡ç‚ºäº†è§£é‡‹ä¸–ç•Œè€Œç™¼æ˜çš„å·¥å…·ã€‚æ²’æœ‰æ¨™æº–ç­”æ¡ˆã€‚" },
            { category: "ğŸ”¢ æ•¸æ„Ÿ", color: "bg-rose-100 border-rose-300", question: "Ï€ (åœ“å‘¨ç‡) æ˜¯ä¸€å€‹ç„¡é™ä¸å¾ªç’°çš„å°æ•¸ï¼Œé€™ä»£è¡¨ä»€éº¼ï¼Ÿ", options: ["å®ƒæ˜¯ä¸€å€‹éŒ¯èª¤çš„æ•¸å­—", "æˆ‘å€‘å¯ä»¥å¯«å‡ºå®ƒçš„æ‰€æœ‰ä½æ•¸", "æˆ‘å€‘æ°¸é ç„¡æ³•ç²¾ç¢ºåœ°å¯«å®Œå®ƒ", "å®ƒç­‰æ–¼3.14"], correct: 2, type: "number_sense", explanation: "ç„¡é™ä¸å¾ªç’°ä»£è¡¨å®ƒçš„ä½æ•¸æ°¸ç„¡æ­¢å¢ƒï¼Œä¸”æ²’æœ‰é‡è¤‡çš„è¦å¾‹ã€‚æˆ‘å€‘åªèƒ½æ‰¾åˆ°å®ƒçš„è¿‘ä¼¼å€¼ï¼Œä½†æ°¸é ç„¡æ³•å¯«ä¸‹å®ƒå®Œæ•´çš„æ¨£è²Œã€‚" },
            { category: "ğŸ”¢ æ•¸æ„Ÿ", color: "bg-rose-100 border-rose-300", question: "åœ¨ 1 å’Œ 2 ä¹‹é–“ï¼Œç¸½å…±æœ‰å¤šå°‘å€‹æ•¸å­—ï¼Ÿ", options: ["0å€‹", "1å€‹ (1.5)", "10å€‹ (1.1, 1.2...)", "ç„¡é™å¤šå€‹"], correct: 3, type: "number_sense", explanation: "åœ¨ä»»ä½•å…©å€‹ä¸åŒçš„æ•¸å­—ä¹‹é–“ï¼Œéƒ½å­˜åœ¨è‘—ç„¡é™å¤šå€‹å…¶ä»–çš„æ•¸å­—ï¼ˆä¾‹å¦‚1.1, 1.11, 1.111...ï¼‰ã€‚é€™é¡¯ç¤ºäº†æ•¸ç·šçš„ã€Œç¨ å¯†æ€§ã€ã€‚" }
        ];

        const appContainer = document.getElementById('app');

        function handleAnswer(selectedIndex) {
            answers[currentQuestionIndex] = selectedIndex;
            renderApp(); 

            if (currentQuestionIndex < questions.length - 1) {
                setTimeout(() => {
                    currentQuestionIndex++;
                    renderApp();
                }, 3500); 
            } else {
                setTimeout(() => {
                    showResult = true;
                    renderApp();
                }, 3500);
            }
        }

        function restartQuiz() {
            currentQuestionIndex = 0;
            answers = {};
            showResult = false;
            renderApp();
        }

        function calculateResults() {
            const results = {
                calculation: { correct: 0, total: 0 },
                geometry: { correct: 0, total: 0 },
                application: { correct: 0, total: 0 },
                algebra: { correct: 0, total: 0 },
                combination: { correct: 0, total: 0 },
                number_sense: { correct: 0, total: 0 }
            };

            questions.forEach((question, index) => {
                const type = question.type;
                results[type].total++;
                if (answers[index] === question.correct) {
                    results[type].correct++;
                }
            });
            return results;
        }

        function renderApp() {
            document.body.className = 'bg-[#fdf6e3]';

            if (showResult) {
                renderResultScreen();
            } else {
                renderQuestionScreen();
            }
        }

        function renderQuestionScreen() {
            const question = questions[currentQuestionIndex];
            const selectedAnswer = answers[currentQuestionIndex];
            const isAnswered = selectedAnswer !== undefined;

            const optionsHtml = question.options.map((option, index) => {
                let buttonClass = 'bg-[#fdf6e3] border-amber-800 text-amber-900 hover:bg-amber-200 cursor-pointer';
                let icon = '';

                if (isAnswered) {
                    if (index === question.correct) {
                        buttonClass = 'bg-emerald-600 border-emerald-500 text-white';
                        icon = '<span class="inline-block ml-2">ğŸ“œ</span>';
                    } else if (index === selectedAnswer) {
                        buttonClass = 'bg-red-800 border-red-600 text-white';
                        icon = '<span class="inline-block ml-2">â”</span>';
                    } else {
                        buttonClass = 'bg-gray-200 border-gray-400 text-gray-500';
                    }
                }

                return `
                    <button
                        onclick="${isAnswered ? '' : `handleAnswer(${index})`}"
                        ${isAnswered ? 'disabled' : ''}
                        class="p-4 sm:p-6 rounded-lg option-text font-bold border-4 transition-all duration-300 transform hover:shadow-xl ${buttonClass}"
                    >
                        ${option} ${icon}
                    </button>
                `;
            }).join('');

            appContainer.innerHTML = `
                <div class="max-w-3xl mx-auto">
                    <div class="text-center mb-6">
                        <span class="inline-block bg-clip-text text-transparent bg-gradient-to-r from-amber-700 via-yellow-500 to-amber-600 px-6 py-3 font-bold text-4xl philosopher-badge">
                            ğŸ“œ å“²äººè©¦ç…‰ ğŸ“œ
                        </span>
                    </div>

                    <div class="bg-black bg-opacity-10 rounded-full p-2 mb-6">
                        <div 
                            class="bg-gradient-to-r from-amber-600 to-yellow-500 rounded-full h-4 transition-all duration-500"
                            style="width: ${((currentQuestionIndex + 1) / questions.length) * 100}%"
                        ></div>
                    </div>

                    <div class="text-center text-amber-800 text-xl mb-4">
                        ç¬¬ ${currentQuestionIndex + 1} å‰‡ / å…± ${questions.length} å‰‡
                    </div>

                    <div class="bg-white bg-opacity-60 backdrop-blur-sm rounded-lg shadow-2xl p-6 sm:p-8 border-4 border-amber-700">
                        <div class="text-center mb-6">
                            <div class="text-3xl font-bold text-amber-800 mb-4">
                                ${question.category}
                            </div>
                            <div class="question-text font-bold text-gray-800 mb-6 min-h-[8rem] flex flex-col items-center justify-center">
                                ${question.question}
                            </div>
                        </div>

                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                            ${optionsHtml}
                        </div>

                        ${isAnswered ? `
                            <div class="mt-8">
                                <div class="text-center text-3xl sm:text-4xl font-bold mb-2 text-amber-900">
                                    ${selectedAnswer === question.correct ? "æ™ºæ…§ä¹‹å…‰é–ƒè€€ï¼" : "ä¸€å€‹å‰å¤§çš„å•é¡Œï¼"}
                                </div>
                                ${question.explanation ? `
                                    <div class="bg-amber-100 bg-opacity-80 rounded-lg p-4 mt-4 border-2 border-amber-300">
                                        <div class="text-lg font-bold text-amber-800 mb-1">ğŸ’¡ å“²äººè§£æï¼š</div>
                                        <div class="text-base text-amber-900">${question.explanation}</div>
                                    </div>
                                ` : ''}
                            </div>
                        ` : ''}
                    </div>
                </div>
            `;
        }
        
        function renderResultScreen() {
            const results = calculateResults();
            const totalCorrect = Object.values(results).reduce((sum, r) => sum + r.correct, 0);
            const totalQuestions = questions.length;
            const scorePercentage = totalCorrect / totalQuestions;
            
            let resultEmoji = "ğŸ¤”";
            let resultMessage = "ä½ å·²è¸ä¸Šè¿½å°‹æ™ºæ…§çš„æ°¸æ†ä¹‹è·¯ï¼Œç­”æ¡ˆä¸¦éçµ‚é»ã€‚";
            let starCount = 4;

            if (scorePercentage >= 0.8) {
                resultEmoji = "ğŸ¦‰";
                resultMessage = "è¶…å‡¡çš„æ´å¯ŸåŠ›ï¼ä½ æ“æœ‰å“²äººçš„éˆé­‚ï¼";
                starCount = 5;
            } else if (scorePercentage >= 0.6) {
                resultEmoji = "ğŸ“œ";
                resultMessage = "å“è¶Šçš„æ€è€ƒè€…ï¼ä½ å·²æŒæ¡äº†æ·±åº¦å•é¡Œçš„é‘°åŒ™ï¼";
                starCount = 4;
            } else if (scorePercentage >= 0.4) {
                resultEmoji = "âœ’ï¸";
                resultMessage = "å‰å¤§çš„æå•è€…ï¼ä½ æå‡ºçš„å•é¡Œæ¯”ç­”æ¡ˆæ›´é‡è¦ï¼";
                starCount = 3;
            }

            const categoryResultsHtml = Object.keys(results).map(key => {
                const categoryMap = {
                    calculation: { name: "ğŸ§® è¨ˆç®—", style: "bg-amber-200 border-amber-400 text-amber-900" },
                    geometry: { name: "ğŸ”º å¹¾ä½•", style: "bg-cyan-200 border-cyan-400 text-cyan-900" },
                    application: { name: "ğŸ›’ æ‡‰ç”¨", style: "bg-lime-200 border-lime-400 text-lime-900" },
                    algebra: { name: "ï¿½ ä»£æ•¸", style: "bg-violet-200 border-violet-400 text-violet-900" },
                    combination: { name: "ğŸ§© çµ„åˆ", style: "bg-orange-200 border-orange-400 text-orange-900" },
                    number_sense: { name: "ğŸ”¢ æ•¸æ„Ÿ", style: "bg-rose-200 border-rose-400 text-rose-900" },
                };
                const info = categoryMap[key];
                return `
                    <div class="${info.style} p-4 rounded-xl border-2">
                        <div class="text-lg font-bold">${info.name}</div>
                        <div class="text-xl font-bold">${results[key].correct}/${results[key].total}</div>
                    </div>
                `;
            }).join('');

            const starsHtml = Array(starCount).fill('âœ’ï¸').join(' ');

            appContainer.innerHTML = `
                <div class="max-w-2xl mx-auto">
                    <div class="bg-white bg-opacity-70 backdrop-blur-sm rounded-lg shadow-2xl p-8 text-center border-4 border-amber-600">
                        <div class="text-7xl mb-4">${resultEmoji}</div>
                        
                        <h2 class="text-3xl font-bold text-amber-900 mb-2">å“²äººè©¦ç…‰å®Œæˆï¼</h2>
                        <div class="text-5xl mb-4">${starsHtml}</div>
                        
                        <div class="text-2xl font-bold text-amber-800 mb-6">
                            ç­”å°é¡Œæ•¸ï¼š${totalCorrect} / ${totalQuestions}
                        </div>

                        <div class="grid grid-cols-2 sm:grid-cols-3 gap-4 mb-6">
                           ${categoryResultsHtml}
                        </div>

                        <div class="text-2xl mb-6 font-bold text-gray-700">
                            ${resultMessage}
                        </div>

                        <button
                            onclick="restartQuiz()"
                            class="bg-gradient-to-r from-amber-700 to-yellow-600 text-white text-xl font-bold py-4 px-8 rounded-lg hover:shadow-2xl transform hover:scale-105 transition-all duration-200"
                        >
                            å†æ¬¡æ²‰æ€ ğŸ“œ
                        </button>
                    </div>
                </div>
            `;
        }

        renderApp();

    </script>
</body>
</html>
ï¿½