<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å…­æ­²æ•¸å­¸å°æ¸¬é©—</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Noto Sans TC', sans-serif;
        }
        /* Simple transition for smoother UI updates */
        #app > div {
            animation: fadeIn 0.5s ease-in-out;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
    </style>
</head>
<body class="bg-gray-100">

    <div id="app" class="min-h-screen p-4">
        <!-- The quiz will be rendered here by JavaScript -->
    </div>

    <script>
        // State variables to manage the quiz
        let currentQuestionIndex = 0;
        let answers = {};
        let showResult = false;

        // All quiz questions and data
        const questions = [
            // è¨ˆç®— (4é¡Œ)
            { category: "ğŸ§® è¨ˆç®—", color: "bg-red-100 border-red-300", question: "5 + 3 = ?", options: ["6", "7", "8", "9"], correct: 2, type: "calculation", explanation: "æˆ‘å€‘å¯ä»¥ç”¨æ‰‹æŒ‡é ­ä¾†ç®—ï¼ğŸ–ï¸ å…ˆä¼¸å‡º5æ ¹æ‰‹æŒ‡ï¼Œå†åŠ ä¸Š3æ ¹æ‰‹æŒ‡ âœ‹â•ğŸ‘†ğŸ‘†ğŸ‘† = 8æ ¹æ‰‹æŒ‡ï¼æ‰€ä»¥ 5 + 3 = 8 âœ¨" },
            { category: "ğŸ§® è¨ˆç®—", color: "bg-red-100 border-red-300", question: "9 - 4 = ?", options: ["4", "5", "6", "7"], correct: 1, type: "calculation", explanation: "æƒ³åƒæœ‰9é¡†ç³–æœ ğŸ¬ğŸ¬ğŸ¬ğŸ¬ğŸ¬ğŸ¬ğŸ¬ğŸ¬ğŸ¬ï¼Œåƒæ‰4é¡† âŒâŒâŒâŒï¼Œå‰©ä¸‹ ğŸ¬ğŸ¬ğŸ¬ğŸ¬ğŸ¬ï¼Œæ•¸ä¸€æ•¸æœ‰5é¡†ï¼æ‰€ä»¥ 9 - 4 = 5 ğŸ¯" },
            { category: "ğŸ§® è¨ˆç®—", color: "bg-red-100 border-red-300", question: "æ•¸ä¸€æ•¸æœ‰å¹¾é¡†è˜‹æœï¼ŸğŸğŸğŸğŸğŸğŸ", options: ["5", "6", "7", "8"], correct: 1, type: "calculation", explanation: "æˆ‘å€‘ä¸€èµ·æ•¸æ•¸çœ‹ï¼š1ğŸï¼Œ2ğŸğŸï¼Œ3ğŸğŸğŸï¼Œ4ğŸğŸğŸğŸï¼Œ5ğŸğŸğŸğŸğŸï¼Œ6ğŸğŸğŸğŸğŸğŸï¼ç¸½å…±æœ‰6é¡†è˜‹æœ ğŸˆ" },
            { category: "ğŸ§® è¨ˆç®—", color: "bg-red-100 border-red-300", question: "2 + 2 + 2 = ?", options: ["4", "5", "6", "7"], correct: 2, type: "calculation", explanation: "æˆ‘å€‘æœ‰ä¸‰çµ„ï¼Œæ¯çµ„2å€‹ï¼šğŸ‘« + ğŸ‘« + ğŸ‘« = 6å€‹æœ‹å‹ï¼æˆ–æ˜¯ 2 + 2 = 4ï¼Œå†åŠ 2 = 6 ğŸŒˆ" },
            // å¹¾ä½• (4é¡Œ)
            { category: "ğŸ”º å¹¾ä½•", color: "bg-blue-100 border-blue-300", question: "å“ªä¸€å€‹æ˜¯åœ“å½¢ï¼Ÿ", options: ["â¬œ", "ğŸ”º", "âšª", "â¬›"], correct: 2, type: "geometry" },
            { category: "ğŸ”º å¹¾ä½•", color: "bg-blue-100 border-blue-300", question: "å“ªä¸€å€‹æ¯”è¼ƒå¤§ï¼Ÿ", options: ["ğŸ­", "ğŸ˜", "ğŸ±", "ğŸ¶"], correct: 1, type: "geometry" },
            { category: "ğŸ”º å¹¾ä½•", color: "bg-blue-100 border-blue-300", question: "å°é³¥åœ¨æ¨¹çš„å“ªè£¡ï¼ŸğŸŒ³ğŸ¦", options: ["ä¸‹é¢", "ä¸Šé¢", "è£¡é¢", "æ—é‚Š"], correct: 1, type: "geometry" },
            { category: "ğŸ”º å¹¾ä½•", color: "bg-blue-100 border-blue-300", question: "æœ‰å¹¾å€‹ä¸‰è§’å½¢ï¼ŸğŸ”ºğŸ”ºğŸ”º", options: ["2", "3", "4", "5"], correct: 1, type: "geometry" },
            // æ‡‰ç”¨ (4é¡Œ)
            { category: "ğŸ›’ æ‡‰ç”¨", color: "bg-green-100 border-green-300", question: "åª½åª½è²·äº†3é¡†ç³–ğŸ¬ğŸ¬ğŸ¬ï¼Œåƒæ‰1é¡†ï¼Œé‚„æœ‰å¹¾é¡†ï¼Ÿ", options: ["1", "2", "3", "4"], correct: 1, type: "application" },
            { category: "ğŸ›’ æ‡‰ç”¨", color: "bg-green-100 border-green-300", question: "ç¾åœ¨æ˜¯ç™½å¤©â˜€ï¸ï¼Œæ¥ä¸‹ä¾†æ˜¯ä»€éº¼ï¼Ÿ", options: ["ç™½å¤©", "æ™šä¸ŠğŸŒ™", "æ—©ä¸Š", "ä¸­åˆ"], correct: 1, type: "application" },
            { category: "ğŸ›’ æ‡‰ç”¨", color: "bg-green-100 border-green-300", question: "å“ªä¸€æ¢ç¹©å­æ¯”è¼ƒé•·ï¼Ÿ", options: ["â€”â€”", "â€”â€”â€”â€”", "â€”â€”â€”", "â€”â€”â€”â€”â€”"], correct: 3, type: "application" },
            { category: "ğŸ›’ æ‡‰ç”¨", color: "bg-green-100 border-green-300", question: "å°æ˜æœ‰2å¡Šé¤…ä¹¾ğŸªğŸªï¼Œå°è¯çµ¦ä»–3å¡ŠğŸªï¿½ğŸªï¼Œç¾åœ¨æœ‰å¹¾å¡Šï¼Ÿ", options: ["4", "5", "6", "7"], correct: 1, type: "application" },
            // ä»£æ•¸ (3é¡Œ)
            { category: "ğŸ¨ ä»£æ•¸", color: "bg-purple-100 border-purple-300", question: "ä¸‹ä¸€å€‹æ˜¯ä»€éº¼ï¼Ÿâ­ğŸŒ™â­ğŸŒ™â­ï¼Ÿ", options: ["â­", "ğŸŒ™", "â˜€ï¸", "ğŸˆ"], correct: 1, type: "algebra" },
            { category: "ğŸ¨ ä»£æ•¸", color: "bg-purple-100 border-purple-300", question: "æ‰¾è¦å¾‹ï¼šğŸ”´ğŸ”µğŸ”´ğŸ”µï¼Ÿ", options: ["ğŸ”´", "ğŸ”µ", "ğŸŸ¡", "ğŸŸ¢"], correct: 0, type: "algebra" },
            { category: "ğŸ¨ ä»£æ•¸", color: "bg-purple-100 border-purple-300", question: "ä»€éº¼æ•¸å­—ä¸è¦‹äº†ï¼Ÿ1, 2, ?, 4", options: ["1", "2", "3", "5"], correct: 2, type: "algebra" },
            // çµ„åˆ (3é¡Œ)
            { category: "ğŸ§© çµ„åˆ", color: "bg-yellow-100 border-yellow-300", question: "æŠŠç´…è‰²çš„æ‰¾å‡ºä¾†ï¼šğŸ”´ğŸ”µğŸŸ¡ğŸ”´ğŸŸ¢", options: ["ğŸ”µå’ŒğŸŸ¡", "ğŸ”´å’ŒğŸ”´", "ğŸŸ¢å’ŒğŸ”µ", "ğŸŸ¡å’ŒğŸŸ¢"], correct: 1, type: "combination" },
            { category: "ğŸ§© çµ„åˆ", color: "bg-yellow-100 border-yellow-300", question: "å“ªå…©å€‹æ˜¯ä¸€å°ï¼ŸğŸ‘‘ğŸ‘¸ğŸ¤´ğŸª", options: ["ğŸ‘‘å’ŒğŸª", "ğŸ‘¸å’ŒğŸ¤´", "ğŸ‘‘å’ŒğŸ‘¸", "ğŸ¤´å’ŒğŸª"], correct: 1, type: "combination" },
            { category: "ğŸ§© çµ„åˆ", color: "bg-yellow-100 border-yellow-300", question: "æŠŠæ°´æœåˆ†é¡ï¼šğŸğŸ¶ğŸŒğŸ±ğŸ“", options: ["ğŸğŸŒğŸ“", "ğŸ¶ğŸ±", "ğŸğŸ¶", "ğŸŒğŸ±ğŸ“"], correct: 0, type: "combination" },
            // æ•¸æ„Ÿ (4é¡Œ)
            { category: "ğŸ”¢ æ•¸æ„Ÿ", color: "bg-pink-100 border-pink-300", question: "å“ªä¸€å †æ¯”è¼ƒå¤šï¼ŸğŸğŸ vs ğŸğŸğŸğŸğŸ", options: ["å·¦é‚Š", "å³é‚Š", "ä¸€æ¨£å¤š", "ä¸çŸ¥é“"], correct: 1, type: "number_sense" },
            { category: "ğŸ”¢ æ•¸æ„Ÿ", color: "bg-pink-100 border-pink-300", question: "èª°æ˜¯ç¬¬äºŒåï¼ŸğŸ¥‡ğŸ¥ˆğŸ¥‰", options: ["ğŸ¥‡", "ğŸ¥ˆ", "ğŸ¥‰", "éƒ½ä¸æ˜¯"], correct: 1, type: "number_sense" },
            { category: "ğŸ”¢ æ•¸æ„Ÿ", color: "bg-pink-100 border-pink-300", question: "æ•¸å­—4å°æ‡‰å¹¾é¡†æ˜Ÿæ˜Ÿï¼Ÿ", options: ["â­â­â­", "â­â­â­â­", "â­â­â­â­â­", "â­â­"], correct: 1, type: "number_sense" },
            { category: "ğŸ”¢ æ•¸æ„Ÿ", color: "bg-pink-100 border-pink-300", question: "å¾å°åˆ°å¤§æ’åˆ—ï¼š3, 1, 5", options: ["1, 3, 5", "5, 3, 1", "3, 1, 5", "1, 5, 3"], correct: 0, type: "number_sense" }
        ];

        const appContainer = document.getElementById('app');

        // Function to handle user's answer
        function handleAnswer(selectedIndex) {
            answers[currentQuestionIndex] = selectedIndex;
            renderApp(); // Re-render to show feedback

            if (currentQuestionIndex < questions.length - 1) {
                setTimeout(() => {
                    currentQuestionIndex++;
                    renderApp();
                }, 1200); // Wait 1.2 seconds before next question
            } else {
                setTimeout(() => {
                    showResult = true;
                    renderApp();
                }, 1200); // Wait 1.2 seconds before showing results
            }
        }

        // Function to restart the quiz
        function restartQuiz() {
            currentQuestionIndex = 0;
            answers = {};
            showResult = false;
            renderApp();
        }

        // Function to calculate final results
        function calculateResults() {
            const results = {
                calculation: { correct: 0, total: 0 },
                geometry: { correct: 0, total: 0 },
                application: { correct: 0, total: 0 },
                algebra: { correct: 0, total: 0 },
                combination: { correct: 0, total: 0 },
                number_sense: { correct: 0, total: 0 }
            };

            questions.forEach((question, index) => {
                const type = question.type;
                results[type].total++;
                if (answers[index] === question.correct) {
                    results[type].correct++;
                }
            });
            return results;
        }

        // Main function to render the UI
        function renderApp() {
            // Set a gradient background for the body
            document.body.className = 'bg-gradient-to-br from-blue-400 via-purple-500 to-pink-500';

            if (showResult) {
                renderResultScreen();
            } else {
                renderQuestionScreen();
            }
        }

        // Renders the question view
        function renderQuestionScreen() {
            const question = questions[currentQuestionIndex];
            const selectedAnswer = answers[currentQuestionIndex];
            const isAnswered = selectedAnswer !== undefined;

            const optionsHtml = question.options.map((option, index) => {
                let buttonClass = 'bg-white border-gray-300 text-gray-700 hover:shadow-lg cursor-pointer';
                let icon = '';

                if (isAnswered) {
                    if (index === question.correct) {
                        buttonClass = 'bg-green-200 border-green-400 text-green-800';
                        icon = '<span class="inline-block ml-2">âœ…</span>';
                    } else if (index === selectedAnswer) {
                        buttonClass = 'bg-red-200 border-red-400 text-red-800';
                        icon = '<span class="inline-block ml-2">âŒ</span>';
                    } else {
                        buttonClass = 'bg-gray-200 border-gray-300 text-gray-600';
                    }
                }

                return `
                    <button
                        onclick="${isAnswered ? '' : `handleAnswer(${index})`}"
                        ${isAnswered ? 'disabled' : ''}
                        class="p-4 sm:p-6 rounded-2xl text-xl sm:text-2xl font-bold border-4 transition-all duration-200 transform hover:scale-105 ${buttonClass}"
                    >
                        ${option} ${icon}
                    </button>
                `;
            }).join('');

            appContainer.innerHTML = `
                <div class="max-w-2xl mx-auto">
                    <!-- Progress Bar -->
                    <div class="bg-white bg-opacity-20 rounded-full p-2 mb-6">
                        <div 
                            class="bg-white rounded-full h-4 transition-all duration-500"
                            style="width: ${((currentQuestionIndex + 1) / questions.length) * 100}%"
                        ></div>
                    </div>

                    <div class="text-center text-white text-xl mb-4">
                        é¡Œç›® ${currentQuestionIndex + 1} / ${questions.length}
                    </div>

                    <!-- Question Card -->
                    <div class="${question.color} rounded-3xl shadow-2xl p-6 sm:p-8 border-4">
                        <div class="text-center mb-6">
                            <div class="text-2xl font-bold text-gray-700 mb-4">
                                ${question.category}
                            </div>
                            <div class="text-2xl sm:text-3xl font-bold text-gray-800 mb-6 min-h-[6rem] flex items-center justify-center">
                                ${question.question}
                            </div>
                        </div>

                        <!-- Answer Options -->
                        <div class="grid grid-cols-2 gap-4">
                            ${optionsHtml}
                        </div>

                        ${isAnswered ? `
                            <div class="text-center mt-6">
                                <div class="text-3xl sm:text-4xl font-bold mb-2">
                                    ${selectedAnswer === question.correct ? "ğŸ‰ ç­”å°äº†ï¼" : "ğŸ’ª å†è©¦è©¦çœ‹ï¼"}
                                </div>
                                <div class="text-lg text-gray-600">
                                    ${currentQuestionIndex < questions.length - 1 ? 'æº–å‚™ä¸‹ä¸€é¡Œ...' : 'è¨ˆç®—çµæœä¸­...'}
                                </div>
                            </div>
                        ` : ''}
                    </div>
                </div>
            `;
        }
        
        // Renders the result view
        function renderResultScreen() {
            const results = calculateResults();
            const totalCorrect = Object.values(results).reduce((sum, r) => sum + r.correct, 0);
            const totalQuestions = questions.length;
            const scorePercentage = totalCorrect / totalQuestions;
            
            let resultEmoji = "ğŸ’ª";
            let resultMessage = "ä¸éŒ¯å–”ï¼å¤šç·´ç¿’æœƒæ›´æ£’ï¼ğŸ“š";

            if (scorePercentage >= 0.8) {
                resultEmoji = "ğŸ‰";
                resultMessage = "å¤ªæ£’äº†ï¼ä½ æ˜¯æ•¸å­¸å°å¤©æ‰ï¼ğŸŒŸ";
            } else if (scorePercentage >= 0.6) {
                resultEmoji = "ğŸ˜Š";
                resultMessage = "å¾ˆæ£’ï¼ç¹¼çºŒåŠ æ²¹ï¼ğŸ’ª";
            }

            const categoryResultsHtml = Object.keys(results).map(key => {
                const categoryMap = {
                    calculation: { name: "ğŸ§® è¨ˆç®—", style: "bg-red-50 border-red-200 text-red-600" },
                    geometry: { name: "ğŸ”º å¹¾ä½•", style: "bg-blue-50 border-blue-200 text-blue-600" },
                    application: { name: "ğŸ›’ æ‡‰ç”¨", style: "bg-green-50 border-green-200 text-green-600" },
                    algebra: { name: "ğŸ¨ ä»£æ•¸", style: "bg-purple-50 border-purple-200 text-purple-600" },
                    combination: { name: "ğŸ§© çµ„åˆ", style: "bg-yellow-50 border-yellow-200 text-yellow-600" },
                    number_sense: { name: "ğŸ”¢ æ•¸æ„Ÿ", style: "bg-pink-50 border-pink-200 text-pink-600" },
                };
                const info = categoryMap[key];
                return `
                    <div class="${info.style} p-4 rounded-xl border-2">
                        <div class="text-lg font-bold">${info.name}</div>
                        <div class="text-xl font-bold">${results[key].correct}/${results[key].total}</div>
                    </div>
                `;
            }).join('');

            appContainer.innerHTML = `
                <div class="max-w-2xl mx-auto">
                    <div class="bg-white rounded-3xl shadow-2xl p-8 text-center">
                        <div class="text-6xl mb-4">${resultEmoji}</div>
                        
                        <h2 class="text-3xl font-bold text-gray-800 mb-2">æ¸¬é©—å®Œæˆï¼</h2>
                        <div class="text-5xl mb-4">
                            <span class="inline-block mx-2">ğŸŒŸ</span>
                            <span class="inline-block mx-2">â¤ï¸</span>
                            <span class="inline-block mx-2">ğŸ˜Š</span>
                        </div>
                        
                        <div class="text-2xl font-bold text-purple-600 mb-6">
                            ç¸½åˆ†ï¼š${totalCorrect} / ${totalQuestions}
                        </div>

                        <div class="grid grid-cols-2 sm:grid-cols-3 gap-4 mb-6">
                           ${categoryResultsHtml}
                        </div>

                        <div class="text-2xl mb-6 font-bold text-gray-700">
                            ${resultMessage}
                        </div>

                        <button
                            onclick="restartQuiz()"
                            class="bg-gradient-to-r from-purple-500 to-pink-500 text-white text-xl font-bold py-4 px-8 rounded-2xl hover:shadow-lg transform hover:scale-105 transition-all duration-200"
                        >
                            å†ç©ä¸€æ¬¡ ğŸ®
                        </button>
                    </div>
                </div>
            `;
        }

        // Initial render to start the quiz
        renderApp();

    </script>
</body>
</html>
ï¿½