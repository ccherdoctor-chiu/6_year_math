<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å…­æ­²æ•¸å­¸é«˜æ‰‹æ¸¬é©—</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Noto Sans TC', sans-serif;
        }
        #app > div {
            animation: fadeIn 0.5s ease-in-out;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .challenge-badge {
            animation: pulse 2s infinite;
        }
        @keyframes pulse {
            0%, 100% { transform: scale(1); box-shadow: 0 0 0 0 rgba(234, 179, 8, 0.7); }
            50% { transform: scale(1.05); box-shadow: 0 0 0 10px rgba(234, 179, 8, 0); }
        }
        .question-text {
            font-size: 1.75rem;
            line-height: 2.25rem;
        }
        .option-text {
            font-size: 1.5rem;
        }
        @media (min-width: 640px) {
            .question-text {
                font-size: 2.25rem;
                line-height: 2.5rem;
            }
            .option-text {
                font-size: 1.75rem;
            }
        }
    </style>
</head>
<body class="bg-gray-100">

    <div id="app" class="min-h-screen p-4">
        <!-- The quiz will be rendered here by JavaScript -->
    </div>

    <script>
        // State variables to manage the quiz
        let currentQuestionIndex = 0;
        let answers = {};
        let showResult = false;

        // Harder quiz questions for 6-year-olds
        const questions = [
            // è¨ˆç®— (3é¡Œ) - å…©ä½æ•¸åŠ æ¸›ã€ä¹˜æ³•æ¦‚å¿µ
            { category: "ğŸ§® è¨ˆç®—", color: "bg-red-100 border-red-300", question: "14 + 13 = ?", options: ["25", "26", "27", "28"], correct: 2, type: "calculation", explanation: "å…ˆç®—å€‹ä½æ•¸ï¼š4+3=7ã€‚å†ç®—åä½æ•¸ï¼š1+1=2ã€‚åˆèµ·ä¾†å°±æ˜¯27ï¼" },
            { category: "ğŸ§® è¨ˆç®—", color: "bg-red-100 border-red-300", question: "25 - 12 = ?", options: ["11", "12", "13", "14"], correct: 2, type: "calculation", explanation: "å…ˆæ¸›å€‹ä½æ•¸ï¼š5-2=3ã€‚å†æ¸›åä½æ•¸ï¼š2-1=1ã€‚åˆèµ·ä¾†å°±æ˜¯13ï¼" },
            { category: "ğŸ§® è¨ˆç®—", color: "bg-red-100 border-red-300", question: "æœ‰4ç›¤è‰è“ğŸ“ï¼Œæ¯ç›¤æœ‰3é¡†ï¼Œç¸½å…±æœ‰å¹¾é¡†ï¼Ÿ", options: ["7é¡†", "10é¡†", "12é¡†", "15é¡†"], correct: 2, type: "calculation", explanation: "é€™å°±æ˜¯4å€‹3åŠ èµ·ä¾†ï¼š3+3+3+3 = 12é¡†è‰è“ï¼é€™ä¹Ÿæ˜¯ä¹˜æ³•å–”ï¼š4 x 3 = 12ã€‚" },
            
            // å¹¾ä½• (3é¡Œ) - 3Dåœ–å½¢ã€å°ç¨±ã€ç©ºé–“åˆ‡å‰²
            { category: "ğŸ”º å¹¾ä½•", color: "bg-blue-100 border-blue-300", question: "å“ªå€‹æ±è¥¿æ˜¯ã€Œæ­£æ–¹é«”ã€ï¼Ÿ", options: ["âš½", "ğŸ§Š", "ğŸ”º", "ğŸŠ"], correct: 1, type: "geometry", explanation: "æ­£æ–¹é«”æœ‰6å€‹å¹³å¹³çš„æ­£æ–¹å½¢é¢ï¼Œå†°å¡ŠğŸ§Šå°±æ˜¯ä¸€å€‹å¾ˆå¥½çš„ä¾‹å­ï¼" },
            { category: "ğŸ”º å¹¾ä½•", color: "bg-blue-100 border-blue-300", question: "æŠŠä¸€å¼µæ­£æ–¹å½¢ç´™å¾€ã€ŒåŒä¸€å€‹æ–¹å‘ã€é€£çºŒå°æ‘ºå…©æ¬¡ï¼Œæ‰“é–‹å¾Œæœ‰å¹¾æ¢å¹³è¡Œçš„æ‘ºç—•ï¼Ÿ", options: ["2æ¢", "3æ¢", "4æ¢", "å¾ˆå¤šæ¢"], correct: 1, type: "geometry", explanation: "ç¬¬ä¸€æ¬¡å°æ‘ºï¼Œæœƒç”¢ç”Ÿ1æ¢æ‘ºç—•ã€‚ä¸æ‰“é–‹ï¼Œå†å¾€åŒä¸€å€‹æ–¹å‘å°æ‘ºç¬¬äºŒæ¬¡ï¼Œæœƒå†ç”¢ç”Ÿ2æ¢æ–°çš„æ‘ºç—•ã€‚æ‰€ä»¥ç¸½å…±æ˜¯ 1 + 2 = 3æ¢å¹³è¡Œçš„æ‘ºç—•ï¼" },
            { category: "ğŸ”º å¹¾ä½•", color: "bg-blue-100 border-blue-300", question: "æ‹¿å‰ªåˆ€ç›´ç›´åœ°å‰ªæ‰ä¸‰è§’å½¢çš„ä¸€å€‹å°–è§’ï¼Œæ–°çš„åœ–å½¢æœƒæœ‰å¹¾å€‹è§’ï¼Ÿ", options: ["2å€‹", "3å€‹", "4å€‹", "5å€‹"], correct: 2, type: "geometry", explanation: "ç•¶ä½ ç›´ç›´åœ°å‰ªæ‰ä¸€å€‹å°–è§’æ™‚ï¼ŒåŸæœ¬çš„1å€‹è§’æœƒä¸è¦‹ï¼Œä½†å‰ªé–‹çš„åœ°æ–¹æœƒå¤šå‡º2å€‹æ–°çš„è§’ã€‚æ‰€ä»¥ï¼ŒåŸæœ¬å‰©ä¸‹çš„2å€‹è§’ï¼Œå†åŠ ä¸Šæ–°çš„2å€‹è§’ï¼Œç¸½å…±å°±æœ‰ 2 + 2 = 4å€‹è§’äº†ï¼" },
            
            // æ‡‰ç”¨ (4é¡Œ) - å¤šæ­¥é©Ÿé‡‘éŒ¢ã€æ™‚é–“ã€é‚è¼¯å•é¡Œ
            { category: "ğŸ›’ æ‡‰ç”¨", color: "bg-green-100 border-green-300", question: "æˆ‘æœ‰20å…ƒï¼Œè²·äº†7å…ƒçš„éºµåŒ…ğŸå’Œ8å…ƒçš„ç‰›å¥¶ğŸ¥›ï¼Œé‚„å‰©å¤šå°‘éŒ¢ï¼Ÿ", options: ["5å…ƒ", "6å…ƒ", "7å…ƒ", "8å…ƒ"], correct: 0, type: "application", explanation: "å…ˆç®—ç¸½å…±èŠ±äº†å¤šå°‘éŒ¢ï¼š7+8=15å…ƒã€‚å†ç®—å‰©ä¸‹å¤šå°‘ï¼š20-15=5å…ƒã€‚" },
            { category: "ğŸ›’ æ‡‰ç”¨", color: "bg-green-100 border-green-300", question: "æ™‚é˜çš„é•·é‡æŒ‡è‘—6ï¼ŒçŸ­é‡åœ¨1å’Œ2ä¸­é–“ï¼Œç¾åœ¨æ˜¯å¹¾é»åŠï¼Ÿ", options: ["12é»åŠ", "1é»åŠ", "2é»åŠ", "6é»åŠ"], correct: 1, type: "application", explanation: "é•·é‡æŒ‡è‘—6ä»£è¡¨ã€ŒåŠå°æ™‚ã€ï¼ŒçŸ­é‡éäº†1é‚„æ²’åˆ°2ï¼Œæ‰€ä»¥æ˜¯1é»åŠï¼" },
            { category: "ğŸ›’ æ‡‰ç”¨", color: "bg-green-100 border-green-300", question: "æˆ‘å‰é¢æœ‰5å€‹äººï¼Œå¾Œé¢æœ‰6å€‹äººï¼Œé€™ä¸€éšŠç¸½å…±æœ‰å¹¾å€‹äººï¼Ÿ", options: ["11äºº", "12äºº", "13äºº", "ä¸çŸ¥é“"], correct: 1, type: "application", explanation: "åˆ¥å¿˜äº†æŠŠè‡ªå·±ä¹Ÿç®—é€²å»å–”ï¼å‰é¢5å€‹äºº + å¾Œé¢6å€‹äºº + ä½ è‡ªå·±1å€‹äºº = 12å€‹äººã€‚" },
            { category: "ğŸ›’ æ‡‰ç”¨", color: "bg-green-100 border-green-300", question: "ä¸€æ˜ŸæœŸæœ‰7å¤©ï¼Œé‚£ä¸‰å€‹æ˜ŸæœŸæœ‰å¹¾å¤©ï¼Ÿ", options: ["14å¤©", "20å¤©", "21å¤©", "28å¤©"], correct: 2, type: "application", explanation: "å°±æ˜¯7+7+7ï¼Œç­‰æ–¼21å¤©ï¼é€™ä¹Ÿæ˜¯ä¹˜æ³•ï¼š3 x 7 = 21ã€‚" },

            // ä»£æ•¸ (3é¡Œ) - æ•¸å­—è¦å¾‹ã€ç°¡å–®æ–¹ç¨‹å¼
            { category: "ğŸ¨ ä»£æ•¸", color: "bg-purple-100 border-purple-300", question: "æ‰¾è¦å¾‹ï¼š5, 10, 15, 20, ?", options: ["21", "25", "30", "35"], correct: 1, type: "algebra", explanation: "é€™å€‹æ•¸åˆ—æ¯æ¬¡éƒ½åŠ 5ï¼Œæ‰€ä»¥20å†åŠ 5å°±æ˜¯25ï¼" },
            { category: "ğŸ¨ ä»£æ•¸", color: "bg-purple-100 border-purple-300", question: "å¦‚æœ 15 - â¬œ = 8ï¼Œé‚£â¬œè£¡æ‡‰è©²å¡«å¤šå°‘ï¼Ÿ", options: ["5", "6", "7", "8"], correct: 2, type: "algebra", explanation: "å¯ä»¥æƒ³æˆ15æ‹¿èµ°å¤šå°‘æœƒå‰©ä¸‹8å‘¢ï¼Ÿç­”æ¡ˆæ˜¯7ã€‚ä¹Ÿå¯ä»¥ç®—15-8=7ã€‚" },
            { category: "ğŸ¨ ä»£æ•¸", color: "bg-purple-100 border-purple-300", question: "æ‰¾è¦å¾‹ï¼šğŸ”´ğŸŸ¡ğŸ”µğŸ”´ğŸŸ¡ğŸ”µğŸ”´?", options: ["ğŸ”´", "ğŸŸ¡", "ğŸ”µ", "ğŸŸ¢"], correct: 1, type: "algebra", explanation: "é€™å€‹è¦å¾‹æ˜¯ã€Œç´…ã€é»ƒã€è—ã€ä¸€ç›´é‡è¤‡ï¼Œæ‰€ä»¥ç´…è‰²ä¸‹ä¸€å€‹æ˜¯é»ƒè‰²ğŸŸ¡ï¼" },
            
            // çµ„åˆ (3é¡Œ) - é‚è¼¯åˆ†é¡ã€ç°¡å–®æ’åˆ—çµ„åˆ
            { category: "ğŸ§© çµ„åˆ", color: "bg-yellow-100 border-yellow-300", question: "æ‰¾å‡ºã€Œä¸æ˜¯äº¤é€šå·¥å…·ã€çš„æ±è¥¿ï¼šğŸš—ğŸšŒğŸš²ğŸğŸš", options: ["ğŸš—", "ğŸšŒ", "ğŸš²", "ğŸ"], correct: 3, type: "combination", explanation: "æ±½è»Šã€å·´å£«ã€è…³è¸è»Šå’Œç›´å‡æ©Ÿéƒ½æ˜¯äº¤é€šå·¥å…·ï¼Œåªæœ‰è˜‹æœğŸæ˜¯æ°´æœï¼Œå¯ä»¥åƒçš„ï¼" },
            { category: "ğŸ§© çµ„åˆ", color: "bg-yellow-100 border-yellow-300", question: "æœ‰3é ‚å¸½å­ğŸ§¢å’Œ2æ¢åœå·¾ğŸ§£ï¼Œå¯ä»¥æ­é…å‡ºå¹¾ç¨®ä¸åŒçš„é€ å‹ï¼Ÿ", options: ["2ç¨®", "3ç¨®", "5ç¨®", "6ç¨®"], correct: 3, type: "combination", explanation: "æ¯é ‚å¸½å­éƒ½å¯ä»¥é…2æ¢ä¸åŒçš„åœå·¾ï¼Œæ‰€ä»¥æœ‰3é ‚å¸½å­å°±æœ‰ 2+2+2=6 ç¨®æ­é…æ–¹æ³•ï¼" },
            { category: "ğŸ§© çµ„åˆ", color: "bg-yellow-100 border-yellow-300", question: "æŠŠé€™äº›å‹•ç‰©åˆ†æˆã€Œå¤©ä¸Šé£›çš„ã€å’Œã€Œåœ°ä¸Šè·‘çš„ã€ï¼šğŸ˜ğŸ…ğŸ¦…ğŸğŸ¦‰", options: ["ğŸ˜ğŸ… vs ğŸ¦…ğŸğŸ¦‰", "ğŸ˜ğŸ…ğŸ vs ğŸ¦…ğŸ¦‰", "ğŸ˜ğŸ…ğŸ¦‰ vs ğŸ¦…ğŸ", "ğŸ˜ğŸ vs ğŸ…ğŸ¦…ğŸ¦‰"], correct: 1, type: "combination", explanation: "å¤§è±¡ã€è€è™ã€é¦¬æ˜¯åœ¨åœ°ä¸Šè·‘çš„ï¼›è€é·¹å’Œè²“é ­é·¹æœ‰ç¿…è†€ï¼Œæ˜¯åœ¨å¤©ä¸Šé£›çš„ã€‚" },
            
            // æ•¸æ„Ÿ (3é¡Œ) - ä¼°ç®—ã€ä½å€¼ã€æ•¸å­—æ¯”è¼ƒ
            { category: "ğŸ”¢ æ•¸æ„Ÿ", color: "bg-pink-100 border-pink-300", question: "å“ªå€‹æ•¸å­—æœ€æ¥è¿‘50ï¼Ÿ", options: ["39", "48", "53", "61"], correct: 1, type: "number_sense", explanation: "48å’Œ50åªå·®2ï¼Œ53å’Œ50å·®3ï¼Œ39å’Œ61éƒ½å·®å¾—æ›´é ã€‚æ‰€ä»¥48æœ€æ¥è¿‘ï¼" },
            { category: "ğŸ”¢ æ•¸æ„Ÿ", color: "bg-pink-100 border-pink-300", question: "æ•¸å­—ã€Œ47ã€æ˜¯ç”±å¹¾å€‹åå’Œå¹¾å€‹ä¸€çµ„æˆçš„ï¼Ÿ", options: ["4å€‹åå’Œ7å€‹ä¸€", "7å€‹åå’Œ4å€‹ä¸€", "4å€‹ä¸€å’Œ7å€‹å", "ä¸ç¢ºå®š"], correct: 0, type: "number_sense", explanation: "4åœ¨åä½æ•¸ï¼Œä»£è¡¨4å€‹å(40)ï¼›7åœ¨å€‹ä½æ•¸ï¼Œä»£è¡¨7å€‹ä¸€(7)ã€‚æ‰€ä»¥æ˜¯4å€‹åå’Œ7å€‹ä¸€ã€‚" },
            { category: "ğŸ”¢ æ•¸æ„Ÿ", color: "bg-pink-100 border-pink-300", question: "ä¼°è¨ˆä¸€ä¸‹ï¼Œç•«é¢ä¸Šçš„æ˜Ÿæ˜Ÿâ­å¤§æ¦‚æœ‰å¹¾åé¡†ï¼Ÿ(ç•«é¢é¡¯ç¤ºç´„40å¤šé¡†)", options: ["å¤§ç´„20é¡†", "å¤§ç´„50é¡†", "å¤§ç´„80é¡†", "å¤§ç´„100é¡†"], correct: 1, type: "number_sense", explanation: "ä¸ç”¨ä¸€é¡†ä¸€é¡†æ•¸ï¼Œç”¨çœ¼ç›å¤§æ¦‚çœ‹ä¸€ä¸‹ï¼Œæ˜¯ä¸æ˜¯æ¯”20å¤šå¾ˆå¤šï¼Œä½†åˆæ²’æœ‰åˆ°100é‚£éº¼å¤šï¼Ÿæœ€æ¥è¿‘çš„ç­”æ¡ˆæ˜¯50é¡†å·¦å³ã€‚" }
        ];

        const appContainer = document.getElementById('app');

        function handleAnswer(selectedIndex) {
            answers[currentQuestionIndex] = selectedIndex;
            renderApp(); 

            if (currentQuestionIndex < questions.length - 1) {
                setTimeout(() => {
                    currentQuestionIndex++;
                    renderApp();
                }, 1800); 
            } else {
                setTimeout(() => {
                    showResult = true;
                    renderApp();
                }, 1800);
            }
        }

        function restartQuiz() {
            currentQuestionIndex = 0;
            answers = {};
            showResult = false;
            renderApp();
        }

        function calculateResults() {
            const results = {
                calculation: { correct: 0, total: 0 },
                geometry: { correct: 0, total: 0 },
                application: { correct: 0, total: 0 },
                algebra: { correct: 0, total: 0 },
                combination: { correct: 0, total: 0 },
                number_sense: { correct: 0, total: 0 }
            };

            questions.forEach((question, index) => {
                const type = question.type;
                results[type].total++;
                if (answers[index] === question.correct) {
                    results[type].correct++;
                }
            });
            return results;
        }

        function renderApp() {
            document.body.className = 'bg-gradient-to-br from-gray-700 via-gray-900 to-black';

            if (showResult) {
                renderResultScreen();
            } else {
                renderQuestionScreen();
            }
        }

        function renderQuestionScreen() {
            const question = questions[currentQuestionIndex];
            const selectedAnswer = answers[currentQuestionIndex];
            const isAnswered = selectedAnswer !== undefined;
            
            // Generate stars for the estimation question
            let starsDisplay = '';
            if (question.question.includes("æ˜Ÿæ˜Ÿâ­")) {
                starsDisplay = `<div class="text-yellow-400 text-2xl leading-tight my-4">${'â­'.repeat(43)}</div>`;
            }


            const optionsHtml = question.options.map((option, index) => {
                let buttonClass = 'bg-gray-800 border-gray-600 text-white hover:bg-gray-700 cursor-pointer';
                let icon = '';

                if (isAnswered) {
                    if (index === question.correct) {
                        buttonClass = 'bg-green-500 border-green-400 text-white';
                        icon = '<span class="inline-block ml-2">âœ…</span>';
                    } else if (index === selectedAnswer) {
                        buttonClass = 'bg-red-500 border-red-400 text-white';
                        icon = '<span class="inline-block ml-2">âŒ</span>';
                    } else {
                        buttonClass = 'bg-gray-700 border-gray-600 text-gray-400';
                    }
                }

                return `
                    <button
                        onclick="${isAnswered ? '' : `handleAnswer(${index})`}"
                        ${isAnswered ? 'disabled' : ''}
                        class="p-4 sm:p-6 rounded-2xl option-text font-bold border-4 transition-all duration-200 transform hover:scale-105 ${buttonClass}"
                    >
                        ${option} ${icon}
                    </button>
                `;
            }).join('');

            appContainer.innerHTML = `
                <div class="max-w-2xl mx-auto">
                    <div class="text-center mb-4">
                        <span class="inline-block bg-gradient-to-r from-yellow-400 to-orange-500 text-black px-6 py-3 rounded-full font-bold text-xl challenge-badge">
                            ğŸ† é«˜æ‰‹æŒ‘æˆ° ğŸ†
                        </span>
                    </div>

                    <div class="bg-gray-800 bg-opacity-50 rounded-full p-2 mb-6">
                        <div 
                            class="bg-gradient-to-r from-yellow-400 to-orange-500 rounded-full h-4 transition-all duration-500"
                            style="width: ${((currentQuestionIndex + 1) / questions.length) * 100}%"
                        ></div>
                    </div>

                    <div class="text-center text-white text-xl mb-4">
                        é¡Œç›® ${currentQuestionIndex + 1} / ${questions.length}
                    </div>

                    <div class="bg-gray-800 rounded-3xl shadow-2xl p-6 sm:p-8 border-4 border-gray-700">
                        <div class="text-center mb-6">
                            <div class="text-3xl font-bold text-yellow-400 mb-4">
                                ${question.category}
                            </div>
                            <div class="question-text font-bold text-white mb-6 min-h-[8rem] flex flex-col items-center justify-center">
                                ${question.question}
                                ${starsDisplay}
                            </div>
                        </div>

                        <div class="grid grid-cols-2 gap-4">
                            ${optionsHtml}
                        </div>

                        ${isAnswered ? `
                            <div class="mt-6">
                                <div class="text-center text-3xl sm:text-4xl font-bold mb-2 text-white">
                                    ${selectedAnswer === question.correct ? "ğŸ‰ å¤ªæ£’äº†ï¼" : "ğŸ¤” å†æƒ³ä¸€ä¸‹ï¼"}
                                </div>
                                ${question.explanation ? `
                                    <div class="bg-gray-700 bg-opacity-80 rounded-xl p-4 mt-4">
                                        <div class="text-lg font-bold text-yellow-400 mb-1">ğŸ’¡ å°åšå£«æç¤ºï¼š</div>
                                        <div class="text-base text-gray-200">${question.explanation}</div>
                                    </div>
                                ` : ''}
                            </div>
                        ` : ''}
                    </div>
                </div>
            `;
        }
        
        function renderResultScreen() {
            const results = calculateResults();
            const totalCorrect = Object.values(results).reduce((sum, r) => sum + r.correct, 0);
            const totalQuestions = questions.length;
            const scorePercentage = totalCorrect / totalQuestions;
            
            let resultEmoji = "ğŸ§";
            let resultMessage = "æŒ‘æˆ°æœ‰é›£åº¦ï¼Œä½ æ˜¯æœ€å‹‡æ•¢çš„æ¢éšªå®¶ï¼";
            let starCount = 2;

            if (scorePercentage >= 0.9) {
                resultEmoji = "ğŸ‘‘";
                resultMessage = "æ­å–œä½ ï¼æˆåŠŸç™»ä¸Šæ•¸å­¸ä¹‹å·”ï¼";
                starCount = 5;
            } else if (scorePercentage >= 0.7) {
                resultEmoji = "ï¿½";
                resultMessage = "éå¸¸å‡ºè‰²ï¼ä½ æ˜¯ä¸€ä½çœŸæ­£çš„æ•¸å­¸é«˜æ‰‹ï¼";
                starCount = 4;
            } else if (scorePercentage >= 0.5) {
                resultEmoji = "ğŸ‘";
                resultMessage = "å¾ˆå²å®³ï¼ä½ å·²ç¶“æŒæ¡äº†å›°é›£çš„é¡Œç›®ï¼";
                starCount = 3;
            }

            const categoryResultsHtml = Object.keys(results).map(key => {
                const categoryMap = {
                    calculation: { name: "ğŸ§® è¨ˆç®—", style: "bg-red-900 border-red-700 text-red-200" },
                    geometry: { name: "ğŸ”º å¹¾ä½•", style: "bg-blue-900 border-blue-700 text-blue-200" },
                    application: { name: "ğŸ›’ æ‡‰ç”¨", style: "bg-green-900 border-green-700 text-green-200" },
                    algebra: { name: "ğŸ¨ ä»£æ•¸", style: "bg-purple-900 border-purple-700 text-purple-200" },
                    combination: { name: "ğŸ§© çµ„åˆ", style: "bg-yellow-900 border-yellow-700 text-yellow-200" },
                    number_sense: { name: "ğŸ”¢ æ•¸æ„Ÿ", style: "bg-pink-900 border-pink-700 text-pink-200" },
                };
                const info = categoryMap[key];
                return `
                    <div class="${info.style} p-4 rounded-xl border-2">
                        <div class="text-lg font-bold">${info.name}</div>
                        <div class="text-xl font-bold">${results[key].correct}/${results[key].total}</div>
                    </div>
                `;
            }).join('');

            const starsHtml = Array(starCount).fill('â­').join(' ');

            appContainer.innerHTML = `
                <div class="max-w-2xl mx-auto">
                    <div class="bg-gray-800 rounded-3xl shadow-2xl p-8 text-center border-4 border-yellow-500">
                        <div class="text-7xl mb-4">${resultEmoji}</div>
                        
                        <h2 class="text-3xl font-bold text-white mb-2">é«˜æ‰‹æŒ‘æˆ°å®Œæˆï¼</h2>
                        <div class="text-5xl mb-4">${starsHtml}</div>
                        
                        <div class="text-2xl font-bold text-yellow-400 mb-6">
                            ç¸½åˆ†ï¼š${totalCorrect} / ${totalQuestions}
                        </div>

                        <div class="grid grid-cols-2 sm:grid-cols-3 gap-4 mb-6">
                           ${categoryResultsHtml}
                        </div>

                        <div class="text-2xl mb-6 font-bold text-white">
                            ${resultMessage}
                        </div>

                        <button
                            onclick="restartQuiz()"
                            class="bg-gradient-to-r from-yellow-500 to-orange-600 text-black text-xl font-bold py-4 px-8 rounded-2xl hover:shadow-lg transform hover:scale-105 transition-all duration-200"
                        >
                            å†æ¬¡æŒ‘æˆ° ğŸš€
                        </button>
                    </div>
                </div>
            `;
        }

        renderApp();

    </script>
</body>
</html>
ï¿½